"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/intuit-oauth";
exports.ids = ["vendor-chunks/intuit-oauth"];
exports.modules = {

/***/ "(rsc)/./node_modules/intuit-oauth/src/OAuthClient.js":
/*!******************************************************!*\
  !*** ./node_modules/intuit-oauth/src/OAuthClient.js ***!
  \******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/* eslint-disable no-undef */\n/* eslint-disable camelcase */\n/**\n\n Copyright (c) 2018 Intuit\n #\n # Licensed under the Apache License, Version 2.0 (the \"License\");\n # you may not use this file except in compliance with the License.\n # You may obtain a copy of the License at\n #\n #  http://www.apache.org/licenses/LICENSE-2.0\n #\n # Unless required by applicable law or agreed to in writing, software\n # distributed under the License is distributed on an \"AS IS\" BASIS,\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n\n */\n\n/**\n * @namespace OAuthClient\n */\n\n\n\nconst atob = __webpack_require__(/*! atob */ \"(rsc)/./node_modules/atob/node-atob.js\");\nconst Csrf = __webpack_require__(/*! csrf */ \"(rsc)/./node_modules/csrf/index.js\");\nconst queryString = __webpack_require__(/*! query-string */ \"(rsc)/./node_modules/query-string/index.js\");\nconst axios = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/dist/node/axios.cjs\");\nconst os = __webpack_require__(/*! os */ \"os\");\nconst winston = __webpack_require__(/*! winston */ \"(rsc)/./node_modules/winston/lib/winston.js\");\nconst path = __webpack_require__(/*! path */ \"path\");\nconst fs = __webpack_require__(/*! fs */ \"fs\");\nconst jwt = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\nconst AuthResponse = __webpack_require__(/*! ./response/AuthResponse */ \"(rsc)/./node_modules/intuit-oauth/src/response/AuthResponse.js\");\nconst version = __webpack_require__(/*! ../package.json */ \"(rsc)/./node_modules/intuit-oauth/package.json\");\nconst Token = __webpack_require__(/*! ./access-token/Token */ \"(rsc)/./node_modules/intuit-oauth/src/access-token/Token.js\");\n\n// Move error classes to a separate file\nconst OAuthError = __webpack_require__(/*! ./errors/OAuthError */ \"(rsc)/./node_modules/intuit-oauth/src/errors/OAuthError.js\");\nconst ValidationError = __webpack_require__(/*! ./errors/ValidationError */ \"(rsc)/./node_modules/intuit-oauth/src/errors/ValidationError.js\");\nconst TokenError = __webpack_require__(/*! ./errors/TokenError */ \"(rsc)/./node_modules/intuit-oauth/src/errors/TokenError.js\");\n\n/**\n * @constructor\n * @param {string} config.environment\n * @param {string} config.appSecret\n * @param {string} config.appKey\n * @param {string} [config.cachePrefix]\n */\nfunction OAuthClient(config) {\n  this.environment = config.environment;\n  this.clientId = config.clientId;\n  this.clientSecret = config.clientSecret;\n  this.redirectUri = config.redirectUri;\n  this.token = new Token(config.token);\n  this.logging = !!(\n    Object.prototype.hasOwnProperty.call(config, 'logging') && config.logging === true\n  );\n  this.logger = null;\n  this.state = new Csrf();\n\n  // Configure Axios instance\n  this.axiosInstance = axios.create({\n    validateStatus(status) {\n      return status >= 200 && status < 500;\n    },\n  });\n\n  if (this.logging) {\n    const dir = './logs';\n    if (!fs.existsSync(dir)) {\n      fs.mkdirSync(dir);\n    }\n    this.logger = winston.createLogger({\n      level: 'info',\n      format: winston.format.combine(\n        winston.format.timestamp({\n          format: 'YYYY-MM-DD HH:mm:ss.SSS Z',  // This will include local timezone offset\n        }),\n        winston.format.printf((info) => `${info.timestamp} ${info.level}: ${info.message}`),\n      ),\n      transports: [\n        new winston.transports.File({\n          filename: path.join(dir, 'oAuthClient-log.log'),\n        }),\n      ],\n    });\n  }\n}\n\nOAuthClient.cacheId = 'cacheID';\nOAuthClient.authorizeEndpoint = 'https://appcenter.intuit.com/connect/oauth2';\nOAuthClient.tokenEndpoint = 'https://oauth.platform.intuit.com/oauth2/v1/tokens/bearer';\nOAuthClient.revokeEndpoint = 'https://developer.api.intuit.com/v2/oauth2/tokens/revoke';\nOAuthClient.userinfo_endpoint_production =\n  'https://accounts.platform.intuit.com/v1/openid_connect/userinfo';\nOAuthClient.userinfo_endpoint_sandbox =\n  'https://sandbox-accounts.platform.intuit.com/v1/openid_connect/userinfo';\nOAuthClient.migrate_sandbox = 'https://developer-sandbox.api.intuit.com/v2/oauth2/tokens/migrate';\nOAuthClient.migrate_production = 'https://developer.api.intuit.com/v2/oauth2/tokens/migrate';\nOAuthClient.environment = {\n  sandbox: 'https://sandbox-quickbooks.api.intuit.com/',\n  production: 'https://quickbooks.api.intuit.com/',\n};\nOAuthClient.qbo_environment = {\n  sandbox: 'https://sandbox.qbo.intuit.com/app/',\n  production: 'https://qbo.intuit.com/app/',\n};\nOAuthClient.jwks_uri = 'https://oauth.platform.intuit.com/op/v1/jwks';\nOAuthClient.scopes = {\n  Accounting: 'com.intuit.quickbooks.accounting',\n  Payment: 'com.intuit.quickbooks.payment',\n  Payroll: 'com.intuit.quickbooks.payroll',\n  TimeTracking: 'com.intuit.quickbooks.payroll.timetracking',\n  Benefits: 'com.intuit.quickbooks.payroll.benefits',\n  Profile: 'profile',\n  Email: 'email',\n  Phone: 'phone',\n  Address: 'address',\n  OpenId: 'openid',\n  Intuit_name: 'intuit_name',\n};\nOAuthClient.user_agent = `Intuit-OAuthClient-JS_${\n  version.version\n}_${os.type()}_${os.release()}_${os.platform()}`;\n\nOAuthClient.prototype.setAuthorizeURLs = function setAuthorizeURLs(params) {\n  // check if the customURL's are passed correctly\n  if (!params) {\n    throw new Error(\"Provide the custom authorize URL's\");\n  }\n  OAuthClient.authorizeEndpoint = params.authorizeEndpoint;\n  OAuthClient.tokenEndpoint = params.tokenEndpoint;\n  OAuthClient.revokeEndpoint = params.revokeEndpoint;\n  this.environment === 'sandbox'\n    ? (OAuthClient.userinfo_endpoint_sandbox = params.userInfoEndpoint)\n    : (OAuthClient.userinfo_endpoint_production = params.userInfoEndpoint);\n\n  return this;\n};\n\nOAuthClient.prototype.getEnvironmentURI = function getEnvironmentURI() { \n  return (this.environment && this.environment === 'production') ? OAuthClient.environment.production : OAuthClient.environment.sandbox;\n}\n\n\nOAuthClient.prototype.getQBOEnvironmentURI = function getQBOEnvironmentURI() {\n  return (this.environment && this.environment === 'production') ? OAuthClient.qbo_environment.production : OAuthClient.qbo_environment.sandbox;\n}\n\n\n/**\n * Redirect  User to Authorization Page\n * *\n * @param params\n * @returns {string} authorize Uri\n */\nOAuthClient.prototype.authorizeUri = function authorizeUri(params) {\n  params = params || {};\n\n  // check if the scopes is provided\n  if (!params.scope) throw new Error('Provide the scopes');\n\n  const authUri = `${OAuthClient.authorizeEndpoint}?${queryString.stringify({\n    response_type: 'code',\n    redirect_uri: this.redirectUri,\n    client_id: this.clientId,\n    scope: Array.isArray(params.scope) ? params.scope.join(' ') : params.scope,\n    state: params.state || this.state.create(this.state.secretSync()),\n  })}`;\n\n  this.log('info', 'The Authorize Uri is :', authUri);\n  return authUri;\n};\n\n/**\n * Safe JSON stringify that handles circular references\n * @param {*} obj - Object to stringify\n * @returns {string} JSON string\n */\nfunction safeStringify(obj) {\n  try {\n    return JSON.stringify(obj, (key, value) => {\n      if (key === '_redirectable' || key === '_currentRequest' || key === 'socket') {\n        return undefined;\n      }\n      return value;\n    });\n  } catch (e) {\n    return String(obj);\n  }\n}\n\n/**\n * Create Token { exchange authorization code for bearer_token }\n * *\n * @param {string|Object} uri\n * @returns {Promise}\n */\nOAuthClient.prototype.createToken = function createToken(uri) {\n  return new Promise((resolve) => {\n    if (!uri) throw new Error('Provide the Uri');\n    // Safely parse query string from URI\n    const queryIndex = uri.indexOf('?');\n    const queryPart = queryIndex !== -1 ? uri.substring(queryIndex + 1) : uri;\n    const params = queryString.parse(queryPart);\n    \n    // Fix: Directly access token object instead of getToken() which returns a copy\n    this.token.realmId = params.realmId || '';\n    if ('state' in params) this.token.state = params.state;\n\n    const body = {};\n    if (params.code) {\n      body.grant_type = 'authorization_code';\n      body.code = params.code;\n      body.redirect_uri = params.redirectUri || this.redirectUri;\n    }\n    \n    // Log request details for debugging (without sensitive data)\n    this.log('info', 'Token exchange request:', {\n      grant_type: body.grant_type,\n      code_length: body.code ? body.code.length : 0,\n      redirect_uri: body.redirect_uri,\n      has_code: !!body.code,\n      realmId: this.token.realmId,\n      state: this.token.state,\n    });\n\n    const request = {\n      url: OAuthClient.tokenEndpoint,\n      data: body,\n      method: 'POST',\n      headers: {\n        Authorization: `Basic ${this.authHeader()}`,\n        'Content-Type': AuthResponse._urlencodedContentType,\n        Accept: AuthResponse._jsonContentType,\n        'User-Agent': OAuthClient.user_agent,\n      },\n    };\n\n    resolve(this.getTokenRequest(request));\n  })\n    .then((res) => {\n      const authResponse = Object.prototype.hasOwnProperty.call(res, 'json') ? res : null;\n      const json = (authResponse && authResponse.json) || res;\n      this.token.setToken(json);\n      this.log('info', 'Create Token response is : ', safeStringify(authResponse && authResponse.json));\n      return authResponse;\n    })\n    .catch((e) => {\n      this.log('error', 'Create Token () threw an exception : ', safeStringify(e));\n      throw e;\n    });\n};\n\n/**\n * Refresh the access_token\n * *\n * @returns {Promise}\n */\nOAuthClient.prototype.refresh = function refresh() {\n  return new Promise((resolve) => {\n    this.validateToken();\n\n    const body = {};\n\n    body.grant_type = 'refresh_token';\n    body.refresh_token = this.getToken().refresh_token;\n\n    const request = {\n      url: OAuthClient.tokenEndpoint,\n      data: body,\n      method: 'POST',\n      headers: {\n        Authorization: `Basic ${this.authHeader()}`,\n        'Content-Type': AuthResponse._urlencodedContentType,\n        Accept: AuthResponse._jsonContentType,\n        'User-Agent': OAuthClient.user_agent,\n      },\n    };\n\n    resolve(this.getTokenRequest(request));\n  })\n    .then((res) => {\n      const authResponse = Object.prototype.hasOwnProperty.call(res, 'json') ? res : null;\n      const json = (authResponse && authResponse.json) || res;\n      this.token.setToken(json);\n      this.log('info', 'Refresh Token () response is : ', safeStringify(authResponse && authResponse.json));\n      return authResponse;\n    })\n    .catch((e) => {\n      this.log('error', 'Refresh Token () threw an exception : ', safeStringify(e));\n      throw e;\n    });\n};\n\n/**\n * Refresh Tokens by passing refresh_token parameter explicitly\n * *\n * @param {string} refresh_token\n * @returns {Promise}\n */\nOAuthClient.prototype.refreshUsingToken = function refreshUsingToken(refresh_token) {\n  return new Promise((resolve) => {\n    if (!refresh_token) throw new Error('The Refresh token is missing');\n\n    const body = {};\n\n    body.grant_type = 'refresh_token';\n    body.refresh_token = refresh_token;\n\n    const request = {\n      url: OAuthClient.tokenEndpoint,\n      data: body,\n      method: 'POST',\n      headers: {\n        Authorization: `Basic ${this.authHeader()}`,\n        'Content-Type': AuthResponse._urlencodedContentType,\n        Accept: AuthResponse._jsonContentType,\n        'User-Agent': OAuthClient.user_agent,\n      },\n    };\n\n    resolve(this.getTokenRequest(request));\n  })\n    .then((res) => {\n      const authResponse = Object.prototype.hasOwnProperty.call(res, 'json') ? res : null;\n      const json = (authResponse && authResponse.json) || res;\n      this.token.setToken(json);\n      this.log(\n        'info',\n        'Refresh usingToken () response is : ', safeStringify(authResponse && authResponse.json),\n      );\n      return authResponse;\n    })\n    .catch((e) => {\n      this.log('error', 'Refresh Token () threw an exception : ', safeStringify(e));\n      throw e;\n    });\n};\n\n/**\n * Revoke access_token/refresh_token\n * *\n * @param {Object} params.access_token (optional)\n * @param {Object} params.refresh_token (optional)\n * @returns {Promise}\n */\nOAuthClient.prototype.revoke = function revoke(params) {\n  return new Promise((resolve) => {\n    params = params || {};\n\n    const body = {};\n\n    body.token =\n      params.access_token ||\n      params.refresh_token ||\n      (this.getToken().isAccessTokenValid()\n        ? this.getToken().access_token\n        : this.getToken().refresh_token);\n\n    const request = {\n      url: OAuthClient.revokeEndpoint,\n      data: body,\n      method: 'POST',\n      headers: {\n        Authorization: `Basic ${this.authHeader()}`,\n        Accept: AuthResponse._jsonContentType,\n        'Content-Type': AuthResponse._jsonContentType,\n        'User-Agent': OAuthClient.user_agent,\n      },\n    };\n\n    resolve(this.getTokenRequest(request));\n  })\n    .then((res) => {\n      const authResponse = Object.prototype.hasOwnProperty.call(res, 'json') ? res : null;\n      this.token.clearToken();\n      this.log('info', 'Revoke Token () response is : ', safeStringify(authResponse && authResponse.json));\n      return authResponse;\n    })\n    .catch((e) => {\n      this.log('error', 'Revoke Token () threw an exception : ', safeStringify(e));\n      throw e;\n    });\n};\n\n/**\n * Get User Info  { Get User Info }\n * *\n * @returns {Promise}\n */\nOAuthClient.prototype.getUserInfo = function getUserInfo() {\n  return new Promise((resolve) => {\n    const request = {\n      url:\n        this.environment === 'sandbox'\n          ? OAuthClient.userinfo_endpoint_sandbox\n          : OAuthClient.userinfo_endpoint_production,\n      method: 'GET',\n      headers: {\n        Authorization: `Bearer ${this.token.access_token}`,\n        Accept: AuthResponse._jsonContentType,\n        'User-Agent': OAuthClient.user_agent,\n      },\n    };\n\n    resolve(this.getTokenRequest(request));\n  })\n    .then((res) => {\n      const authResponse = Object.prototype.hasOwnProperty.call(res, 'json') ? res : null;\n      this.log(\n        'info',\n        'The Get User Info () response is : ', safeStringify(authResponse && authResponse.json),\n      );\n      return authResponse;\n    })\n    .catch((e) => {\n      this.log('error', 'Get User Info ()  threw an exception : ', safeStringify(e));\n      throw e;\n    });\n};\n\n/**\n * Make API call. Pass the url,method,headers using `params` object\n *\n * @param {params} params\n * @param {string} params.url\n * @param {string} params.method (optional) default is GET\n * @param {Object} params.headers (optional)\n * @param {Object} params.body (optional)\n * @param {string} params.responseType (optional) default is json - options are json, text, stream, arraybuffer\n * @returns {Promise}\n */\nOAuthClient.prototype.makeApiCall = async function makeApiCall({ url, method, headers: customHeaders, body, params, timeout, responseType, maxRetries = 3 }) {\n  if (!url) {\n    throw new ValidationError('URL is required for API call');\n  }\n\n  // Determine the full URL - backward compatibility for relative endpoints\n  let fullUrl = url;\n  if (!url.startsWith('http://') && !url.startsWith('https://')) {\n    // User provided a relative endpoint\n    const baseURL = (this.environment && this.environment === 'production') \n      ? OAuthClient.environment.production \n      : OAuthClient.environment.sandbox;\n    \n    // Remove leading slash if present to avoid double slashes\n    const endpoint = url.startsWith('/') ? url.slice(1) : url;\n    fullUrl = baseURL + endpoint;\n  }\n\n  let attempt = 0;\n  let lastError = null;\n\n  while (attempt < maxRetries) {\n    try {\n      const requestConfig = {\n        method: method || 'GET',\n        headers: {\n          Authorization: `Bearer ${this.getToken().access_token}`,\n          'Content-Type': 'application/json',\n          'Accept': 'application/json',\n          'User-Agent': OAuthClient.user_agent,\n          ...customHeaders,\n        },\n        timeout: timeout || 30000,\n        responseType: responseType || 'json',\n        data: body,\n        params,\n      };\n\n      // Make the API call\n      const response = await this.axiosInstance(fullUrl, requestConfig);\n      \n      // Log the successful response\n      this.log('info', 'The makeAPICall () response is : ', JSON.stringify(response.data, null, 2));\n      \n      // Return in AuthResponse-compatible format for backward compatibility\n      return {\n        status: response.status,\n        statusText: response.statusText,\n        headers: response.headers,\n        json: response.data,\n        body: typeof response.data === 'string' ? response.data : JSON.stringify(response.data),\n      };\n    } catch (error) {\n      attempt += 1;\n      lastError = error;\n\n      // Detailed error analysis and logging\n      const errorAnalysis = {\n        // Basic error properties\n        basic: {\n          name: error.name,\n          message: error.message,\n          stack: error.stack,\n          code: error.code,\n        },\n        // Response analysis\n        response: error.response ? {\n          status: error.response.status,\n          statusText: error.response.statusText,\n          headers: error.response.headers,\n          // Deep analysis of response data\n          data: error.response.data,\n          // Specific Fault object analysis\n          fault: error.response.data && error.response.data.Fault ? {\n            type: error.response.data.Fault.type,\n            error: error.response.data.Fault.Error ? error.response.data.Fault.Error.map(err => ({\n              message: err.Message,\n              detail: err.Detail,\n              code: err.code,\n              element: err.element,\n              additionalInfo: err.additionalInfo,\n            })) : null,\n            timestamp: error.response.data.time,\n          } : null,\n          // OAuth error fields\n          oauth: {\n            error: error.response.data && error.response.data.error,\n            error_description: error.response.data && error.response.data.error_description,\n          },\n        } : null,\n        // Request analysis\n        request: error.request ? {\n          method: error.request.method,\n          path: error.request.path,\n          headers: error.request.headers,\n        } : null,\n        // Context\n        context: {\n          attempt,\n          url: fullUrl,\n          timestamp: new Date().toISOString(),\n        },\n      };\n\n      // Log the detailed error analysis\n      this.log('error', 'Exception Analysis:', {\n        hasFaultObject: !!(error.response && error.response.data && error.response.data.Fault),\n        faultType: error.response && error.response.data && error.response.data.Fault && error.response.data.Fault.type,\n        faultErrors: error.response && error.response.data && error.response.data.Fault && error.response.data.Fault.Error,\n        fullAnalysis: errorAnalysis,\n      });\n\n      // Log the error for debugging\n      this.log('error', 'API call failed:', {\n        error: (error.response && error.response.data) || error.message,\n        status: error.response && error.response.status,\n        attempt,\n        url: fullUrl,\n      });\n\n      // Handle Axios errors\n      if (error.response) {\n        const { status, data, headers: responseHeaders } = error.response;\n        const intuitTid = responseHeaders && responseHeaders.intuit_tid;\n\n        // Handle 400 errors with Fault object\n        if (status === 400) {\n          if (data && data.Fault) {\n            const fault = data.Fault;\n            const faultError = fault.Error && fault.Error[0];\n            \n            // Extract detailed error information from Fault object\n            const errorMessage = (faultError && faultError.Message) || 'Bad Request';\n            const errorCode = (faultError && faultError.code) || '400';\n            const errorDetail = (faultError && faultError.Detail) || 'Request validation failed';\n            const faultType = (fault && fault.type) || 'ValidationFault';\n            \n            // Create a more descriptive error message\n            const detailedMessage = `${errorMessage}`;\n            \n            throw new OAuthError(\n              detailedMessage,\n              errorCode,\n              errorDetail,\n              intuitTid,\n              {\n                faultType,\n                fault: {\n                  type: faultType,\n                  errors: fault.Error ? fault.Error.map(err => ({\n                    message: err.Message,\n                    detail: err.Detail,\n                    code: err.code,\n                  })) : [],\n                  time: data.time,\n                },\n                timestamp: data.time,\n              },\n            );\n          }\n          \n          // Handle other 400 errors\n          throw new OAuthError(\n            (data && data.error) || 'Bad Request',\n            '400',\n            (data && data.error_description) || 'Request validation failed',\n            intuitTid,\n          );\n        }\n\n        // Handle rate limit errors\n        if (status === 429) {\n          throw new OAuthError(\n            'Rate limit exceeded',\n            'RATE_LIMIT_EXCEEDED',\n            'Too many requests, please try again later',\n            intuitTid,\n          );\n        }\n\n        // Handle other HTTP errors\n        throw new OAuthError(\n          (data && data.error) || error.message || 'Unknown error',\n          status === 500 ? 'INTERNAL_SERVER_ERROR' : status.toString(),\n          (data && data.error_description) || 'An error occurred during the API call',\n          intuitTid,\n        );\n      }\n\n      // Handle network errors\n      if (error.code === 'ECONNABORTED') {\n        throw new OAuthError(\n          `Request timeout of ${timeout || 30000}ms exceeded`,\n          'TIMEOUT_ERROR',\n          'The request took too long to complete',\n        );\n      }\n\n      // Handle other errors (no response received)\n      if (error.request) {\n        throw new OAuthError(\n          'Connection reset by peer',\n          'NETWORK_ERROR',\n          'A network error occurred while making the request',\n        );\n      }\n\n      // Handle any other errors\n      throw new OAuthError(\n        error.message || 'Unknown error',\n        'OAUTH_ERROR',\n        'An unexpected error occurred',\n      );\n    }\n\n    // Add delay between retries\n    if (attempt < maxRetries) {\n      const delay = 2 ** attempt * 1000;\n      // eslint-disable-next-line no-await-in-loop\n      await new Promise(resolve => setTimeout(resolve, delay));\n    }\n  }\n\n  // If we've exhausted all retries, throw the last error\n  if (lastError) {\n    if (lastError instanceof OAuthError) {\n      throw lastError;\n    }\n    throw new OAuthError(\n      lastError.message || 'Maximum retry attempts reached',\n      'MAX_RETRIES_EXCEEDED',\n      'The request failed after multiple retry attempts',\n    );\n  }\n\n  // This should never be reached, but TypeScript needs it\n  throw new OAuthError(\n    'Unexpected error in makeApiCall',\n    'UNKNOWN_ERROR',\n    'An unexpected error occurred in the API call',\n  );\n};\n\n/**\n * Validate id_token\n * *\n * @param {Object} params(optional)\n * @returns {Promise<AuthResponse>}\n */\nOAuthClient.prototype.validateIdToken = function validateIdToken(params = {}) {\n  return new Promise((resolve) => {\n    if (!this.getToken().id_token) throw new Error('The bearer token does not have id_token');\n\n    const id_token = this.getToken().id_token || params.id_token;\n\n    // Decode ID Token\n    const token_parts = id_token.split('.');\n    const id_token_header = JSON.parse(atob(token_parts[0]));\n    const id_token_payload = JSON.parse(atob(token_parts[1]));\n\n    // Step 1 : First check if the issuer is as mentioned in \"issuer\"\n    if (id_token_payload.iss !== 'https://oauth.platform.intuit.com/op/v1') {\n      throw new Error('Invalid issuer in ID token');\n    }\n\n    // Step 2 : check if the aud field in idToken contains application's clientId\n    if (!id_token_payload.aud.find((audience) => audience === this.clientId)) {\n      throw new Error('Invalid audience in ID token');\n    }\n\n    // Step 3 : ensure the timestamp has not elapsed\n    if (id_token_payload.exp < Date.now() / 1000) {\n      throw new Error('ID token has expired');\n    }\n\n    const request = {\n      url: OAuthClient.jwks_uri,\n      method: 'GET',\n      headers: {\n        Accept: AuthResponse._jsonContentType,\n        'User-Agent': OAuthClient.user_agent,\n      },\n    };\n\n    return resolve(this.getKeyFromJWKsURI(id_token, id_token_header.kid, request));\n  })\n    .then((res) => {\n      this.log('info', 'The validateIdToken () response is :', safeStringify(res));\n      if (res) return true;\n      return false;\n    })\n    .catch((e) => {\n      this.log('error', 'The validateIdToken () threw an exception : ', safeStringify(e));\n      throw e;\n    });\n};\n\n/**\n * Get Key from JWKURI\n * *\n * @param {string} id_token\n * @param {string} kid\n * @param {Object} request\n * @returns {Promise}\n */\nOAuthClient.prototype.getKeyFromJWKsURI = function getKeyFromJWKsURI(id_token, kid, request) {\n  return new Promise((resolve) => {\n    resolve(this.loadResponse(request));\n  })\n    .then((response) => {\n      if (Number(response.status) !== 200) throw new Error('Could not reach JWK endpoint');\n      // Find the key by KID\n      const key = response.data.keys.find((el) => el.kid === kid);\n      if (!key) {\n        throw new Error(`Key with kid \"${kid}\" not found in JWKS`);\n      }\n      const cert = this.getPublicKey(key.n, key.e);\n\n      return jwt.verify(id_token, cert);\n    })\n    .catch((e) => {\n      e = this.createError(e);\n      this.log(\n        'error',\n        'The getKeyFromJWKsURI () threw an exception : ',\n        safeStringify(e),\n      );\n      throw e;\n    });\n};\n\n/**\n * Get Public Key\n * *\n * @param modulus\n * @param exponent\n */\nOAuthClient.prototype.getPublicKey = function getPublicKey(modulus, exponent) {\n  // eslint-disable-next-line global-require\n  const getPem = __webpack_require__(/*! rsa-pem-from-mod-exp */ \"(rsc)/./node_modules/rsa-pem-from-mod-exp/index.js\");\n  const pem = getPem(modulus, exponent);\n  return pem;\n};\n\n/**\n * Get Token Request\n * *\n * @param {Object} request\n * @returns {Promise}\n */\nOAuthClient.prototype.getTokenRequest = function getTokenRequest(request) {\n  const authResponse = new AuthResponse({\n    token: this.token,\n  });\n\n  return new Promise((resolve) => {\n    resolve(this.loadResponse(request));\n  })\n    .then((response) => {\n      this.validateResponse(response);\n      authResponse.processResponse(response);\n\n      if (!authResponse.valid()) {\n        throw new OAuthError(\n          'Response has an Error',\n          response.status.toString(),\n          response.statusText,\n          response.headers && response.headers.intuit_tid,\n        );\n      }\n\n      return authResponse;\n    })\n    .catch((e) => {\n      // If axios error has response data, populate authResponse with it\n      if (e.response && e.response.data) {\n        authResponse.processResponse(e.response);\n      }\n      \n      if (!e.authResponse) {\n        e = this.createError(e, authResponse);\n      }\n      throw e;\n    });\n};\n\n/**\n * Validate Token { validates if token object has refresh token }\n * *\n * @returns {boolean}\n */\nOAuthClient.prototype.validateToken = function validateToken() {\n  if (!this.token.refreshToken()) {\n    throw new Error('The Refresh token is missing');\n  }\n\n  if (!this.token.isRefreshTokenValid()) {\n    throw new Error('The Refresh token is invalid, please Authorize again.');\n  }\n\n  return true;\n};\n\n// Add retry configuration\nOAuthClient.retryConfig = {\n  maxRetries: 3,\n  retryDelay: 1000, // 1 second\n  retryableStatusCodes: [408, 429, 500, 502, 503, 504],\n  retryableErrors: ['ECONNRESET', 'ETIMEDOUT', 'ECONNREFUSED'],\n};\n\nOAuthClient.prototype.shouldRetry = function shouldRetry(error, attempt) {\n  if (attempt >= OAuthClient.retryConfig.maxRetries) {\n    return false;\n  }\n\n  // Check if it's a retryable status code\n  if (error.response && OAuthClient.retryConfig.retryableStatusCodes.includes(error.response.status)) {\n    return true;\n  }\n\n  // Check if it's a retryable network error\n  if (error.code && OAuthClient.retryConfig.retryableErrors.includes(error.code)) {\n    return true;\n  }\n\n  return false;\n};\n\n/**\n * Make HTTP Request using Axios Client\n * @param request\n * @returns response\n */\nOAuthClient.prototype.loadResponse = function loadResponse(request) {\n  this.currentRequest = request;\n  let attempt = 0;\n\n  const executeRequest = () => axios(request)\n      .then((response) => {\n        this.currentRequest = null;\n        return response;\n      })\n      .catch((error) => {\n        this.currentRequest = null;\n        \n        if (this.shouldRetry(error, attempt)) {\n          attempt += 1;\n          const delay = OAuthClient.retryConfig.retryDelay * (2 ** (attempt - 1));\n          \n          this.log('warn', `Retrying request (attempt ${attempt}/${OAuthClient.retryConfig.maxRetries})`, {\n            error: error.message,\n            delay,\n            url: request.url,\n          });\n\n          return new Promise((resolve) => {\n            setTimeout(() => {\n              resolve(executeRequest());\n            }, delay);\n          });\n        }\n\n        throw error;\n      });\n\n  return executeRequest();\n};\n\n/**\n * Load response from JWK URI\n * @param request\n * @returns response\n */\nOAuthClient.prototype.loadResponseFromJWKsURI = function loadResponseFromJWKsURI(request) {\n  return axios.get(request).then((response) => response);\n};\n\n/**\n * Create Error Wrapper\n * @param {Error|string} error - Error object or error message\n * @param {AuthResponse} authResponse - AuthResponse object\n * @returns {Error} error\n */\nOAuthClient.prototype.createError = function createError(error, authResponse) {\n  if (!error) {\n    return new Error('');\n  }\n\n  const wrappedError = new Error();\n  wrappedError.error = '';\n  wrappedError.authResponse = authResponse || '';\n  wrappedError.intuit_tid = (authResponse && authResponse.getIntuitTid()) || '';\n  wrappedError.originalMessage = error.message || '';\n  wrappedError.error_description = '';\n\n  if (authResponse) {\n    if (authResponse.body) {\n      try {\n        const body = typeof authResponse.body === 'string' ? JSON.parse(authResponse.body) : authResponse.body;\n        if (body.error) {\n          wrappedError.error = body.error;\n          wrappedError.error_description = body.error_description || '';\n          wrappedError.message = body.error;\n          return wrappedError;\n        }\n      } catch (e) {\n        // If parsing fails, use the original body\n        wrappedError.error = authResponse.body;\n        wrappedError.error_description = authResponse.body;\n        wrappedError.message = authResponse.body;\n        return wrappedError;\n      }\n    }\n    \n    if (authResponse.response && authResponse.response.statusText) {\n      wrappedError.error = authResponse.response.statusText;\n      wrappedError.error_description = authResponse.response.statusText;\n      wrappedError.message = authResponse.response.statusText;\n      return wrappedError;\n    }\n  }\n\n  if (error instanceof Error) {\n    wrappedError.error = error.message;\n    wrappedError.message = error.message;\n  } else if (typeof error === 'string') {\n    wrappedError.error = error;\n    wrappedError.message = error;\n  } else {\n    wrappedError.error = error.toString();\n    wrappedError.message = error.toString();\n  }\n\n  return wrappedError;\n};\n\n/**\n * isAccessToken Valid () { TTL of access_token }\n * @returns {boolean}\n * @private\n */\nOAuthClient.prototype.isAccessTokenValid = function isAccessTokenValid() {\n  return this.token.isAccessTokenValid();\n};\n\n/**\n * GetToken\n * @returns {Token}\n */\nOAuthClient.prototype.getToken = function getToken() {\n  return this.token;\n};\n\n/**\n * Set Token\n * @param {Object}\n * @returns {Token}\n */\nOAuthClient.prototype.setToken = function setToken(params) {\n  this.token = new Token(params);\n  return this.token;\n};\n\n/**\n * Get AuthHeader\n * @returns {string} authHeader\n */\nOAuthClient.prototype.authHeader = function authHeader() {\n  const apiKey = `${this.clientId}:${this.clientSecret}`;\n  return typeof btoa === 'function' ? btoa(apiKey) : Buffer.from(apiKey).toString('base64');\n};\n\n/**\n * Log the message\n * @param {string} level - Log level\n * @param {string} message - Log message\n * @param {*} data - Log data\n */\nOAuthClient.prototype.log = function log(level, message, data) {\n  if (!this.logger) {\n    return;\n  }\n\n  if (typeof data === 'string') {\n    this.logger.log(level, message + data);\n    return;\n  }\n\n  const logData = {\n    timestamp: new Date().toISOString(),\n    level,\n    message,\n    environment: this.environment,\n    clientId: this.clientId,\n  };\n\n  // Add safe request context if available\n  if (this.currentRequest) {\n    logData.request = {\n      url: this.currentRequest.url,\n      method: this.currentRequest.method,\n      headers: { ...this.currentRequest.headers },\n    };\n  }\n\n  // Add safe data context\n  if (data) {\n    try {\n      logData.data = JSON.parse(safeStringify(data));\n    } catch (e) {\n      logData.data = String(data);\n    }\n  }\n\n  this.logger.log(level, safeStringify(logData));\n};\n\nOAuthClient.prototype.validateResponse = function validateResponse(response) {\n  if (!response) {\n    throw new ValidationError('Empty response received');\n  }\n\n  if (!response.status) {\n    throw new ValidationError('Response missing status code');\n  }\n\n  const intuitTid = response.headers && response.headers.intuit_tid;\n\n  if (response.status === 429) {\n    throw new OAuthError(\n      'Rate limit exceeded',\n      'RATE_LIMIT_EXCEEDED',\n      'Too many requests, please try again later',\n      intuitTid,\n    );\n  }\n\n  if (response.status === 401) {\n    throw new TokenError(\n      'Unauthorized',\n      'UNAUTHORIZED',\n      'Invalid or expired access token',\n      intuitTid,\n    );\n  }\n\n  if (response.status === 403) {\n    throw new OAuthError(\n      'Forbidden',\n      'FORBIDDEN',\n      'Insufficient permissions',\n      intuitTid,\n    );\n  }\n\n  return true;\n};\n\nmodule.exports = OAuthClient;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvaW50dWl0LW9hdXRoL3NyYy9PQXV0aENsaWVudC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVhOztBQUViLGFBQWEsbUJBQU8sQ0FBQyxvREFBTTtBQUMzQixhQUFhLG1CQUFPLENBQUMsZ0RBQU07QUFDM0Isb0JBQW9CLG1CQUFPLENBQUMsZ0VBQWM7QUFDMUMsY0FBYyxtQkFBTyxDQUFDLDZEQUFPO0FBQzdCLFdBQVcsbUJBQU8sQ0FBQyxjQUFJO0FBQ3ZCLGdCQUFnQixtQkFBTyxDQUFDLDREQUFTO0FBQ2pDLGFBQWEsbUJBQU8sQ0FBQyxrQkFBTTtBQUMzQixXQUFXLG1CQUFPLENBQUMsY0FBSTtBQUN2QixZQUFZLG1CQUFPLENBQUMsZ0VBQWM7QUFDbEMscUJBQXFCLG1CQUFPLENBQUMsK0ZBQXlCO0FBQ3RELGdCQUFnQixtQkFBTyxDQUFDLHVFQUFpQjtBQUN6QyxjQUFjLG1CQUFPLENBQUMseUZBQXNCOztBQUU1QztBQUNBLG1CQUFtQixtQkFBTyxDQUFDLHVGQUFxQjtBQUNoRCx3QkFBd0IsbUJBQU8sQ0FBQyxpR0FBMEI7QUFDMUQsbUJBQW1CLG1CQUFPLENBQUMsdUZBQXFCOztBQUVoRDtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULDJDQUEyQyxnQkFBZ0IsRUFB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Q0E7QUFDQTtBQUNBLGlCQUFpQixnQ0FBZ0M7QUFDakQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NvcnRleGNhcnQtaW5zaWdodC1kYXNoYm9hcmQvLi9ub2RlX21vZHVsZXMvaW50dWl0LW9hdXRoL3NyYy9PQXV0aENsaWVudC5qcz8yMGZmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovXG4vKiBlc2xpbnQtZGlzYWJsZSBjYW1lbGNhc2UgKi9cbi8qKlxuXG4gQ29weXJpZ2h0IChjKSAyMDE4IEludHVpdFxuICNcbiAjIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gIyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gIyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAjXG4gIyAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gI1xuICMgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICMgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICMgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gIyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gIyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuICovXG5cbi8qKlxuICogQG5hbWVzcGFjZSBPQXV0aENsaWVudFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgYXRvYiA9IHJlcXVpcmUoJ2F0b2InKTtcbmNvbnN0IENzcmYgPSByZXF1aXJlKCdjc3JmJyk7XG5jb25zdCBxdWVyeVN0cmluZyA9IHJlcXVpcmUoJ3F1ZXJ5LXN0cmluZycpO1xuY29uc3QgYXhpb3MgPSByZXF1aXJlKCdheGlvcycpO1xuY29uc3Qgb3MgPSByZXF1aXJlKCdvcycpO1xuY29uc3Qgd2luc3RvbiA9IHJlcXVpcmUoJ3dpbnN0b24nKTtcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5jb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5jb25zdCBqd3QgPSByZXF1aXJlKCdqc29ud2VidG9rZW4nKTtcbmNvbnN0IEF1dGhSZXNwb25zZSA9IHJlcXVpcmUoJy4vcmVzcG9uc2UvQXV0aFJlc3BvbnNlJyk7XG5jb25zdCB2ZXJzaW9uID0gcmVxdWlyZSgnLi4vcGFja2FnZS5qc29uJyk7XG5jb25zdCBUb2tlbiA9IHJlcXVpcmUoJy4vYWNjZXNzLXRva2VuL1Rva2VuJyk7XG5cbi8vIE1vdmUgZXJyb3IgY2xhc3NlcyB0byBhIHNlcGFyYXRlIGZpbGVcbmNvbnN0IE9BdXRoRXJyb3IgPSByZXF1aXJlKCcuL2Vycm9ycy9PQXV0aEVycm9yJyk7XG5jb25zdCBWYWxpZGF0aW9uRXJyb3IgPSByZXF1aXJlKCcuL2Vycm9ycy9WYWxpZGF0aW9uRXJyb3InKTtcbmNvbnN0IFRva2VuRXJyb3IgPSByZXF1aXJlKCcuL2Vycm9ycy9Ub2tlbkVycm9yJyk7XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnLmVudmlyb25tZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnLmFwcFNlY3JldFxuICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZy5hcHBLZXlcbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29uZmlnLmNhY2hlUHJlZml4XVxuICovXG5mdW5jdGlvbiBPQXV0aENsaWVudChjb25maWcpIHtcbiAgdGhpcy5lbnZpcm9ubWVudCA9IGNvbmZpZy5lbnZpcm9ubWVudDtcbiAgdGhpcy5jbGllbnRJZCA9IGNvbmZpZy5jbGllbnRJZDtcbiAgdGhpcy5jbGllbnRTZWNyZXQgPSBjb25maWcuY2xpZW50U2VjcmV0O1xuICB0aGlzLnJlZGlyZWN0VXJpID0gY29uZmlnLnJlZGlyZWN0VXJpO1xuICB0aGlzLnRva2VuID0gbmV3IFRva2VuKGNvbmZpZy50b2tlbik7XG4gIHRoaXMubG9nZ2luZyA9ICEhKFxuICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsICdsb2dnaW5nJykgJiYgY29uZmlnLmxvZ2dpbmcgPT09IHRydWVcbiAgKTtcbiAgdGhpcy5sb2dnZXIgPSBudWxsO1xuICB0aGlzLnN0YXRlID0gbmV3IENzcmYoKTtcblxuICAvLyBDb25maWd1cmUgQXhpb3MgaW5zdGFuY2VcbiAgdGhpcy5heGlvc0luc3RhbmNlID0gYXhpb3MuY3JlYXRlKHtcbiAgICB2YWxpZGF0ZVN0YXR1cyhzdGF0dXMpIHtcbiAgICAgIHJldHVybiBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDUwMDtcbiAgICB9LFxuICB9KTtcblxuICBpZiAodGhpcy5sb2dnaW5nKSB7XG4gICAgY29uc3QgZGlyID0gJy4vbG9ncyc7XG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKGRpcikpIHtcbiAgICAgIGZzLm1rZGlyU3luYyhkaXIpO1xuICAgIH1cbiAgICB0aGlzLmxvZ2dlciA9IHdpbnN0b24uY3JlYXRlTG9nZ2VyKHtcbiAgICAgIGxldmVsOiAnaW5mbycsXG4gICAgICBmb3JtYXQ6IHdpbnN0b24uZm9ybWF0LmNvbWJpbmUoXG4gICAgICAgIHdpbnN0b24uZm9ybWF0LnRpbWVzdGFtcCh7XG4gICAgICAgICAgZm9ybWF0OiAnWVlZWS1NTS1ERCBISDptbTpzcy5TU1MgWicsICAvLyBUaGlzIHdpbGwgaW5jbHVkZSBsb2NhbCB0aW1lem9uZSBvZmZzZXRcbiAgICAgICAgfSksXG4gICAgICAgIHdpbnN0b24uZm9ybWF0LnByaW50ZigoaW5mbykgPT4gYCR7aW5mby50aW1lc3RhbXB9ICR7aW5mby5sZXZlbH06ICR7aW5mby5tZXNzYWdlfWApLFxuICAgICAgKSxcbiAgICAgIHRyYW5zcG9ydHM6IFtcbiAgICAgICAgbmV3IHdpbnN0b24udHJhbnNwb3J0cy5GaWxlKHtcbiAgICAgICAgICBmaWxlbmFtZTogcGF0aC5qb2luKGRpciwgJ29BdXRoQ2xpZW50LWxvZy5sb2cnKSxcbiAgICAgICAgfSksXG4gICAgICBdLFxuICAgIH0pO1xuICB9XG59XG5cbk9BdXRoQ2xpZW50LmNhY2hlSWQgPSAnY2FjaGVJRCc7XG5PQXV0aENsaWVudC5hdXRob3JpemVFbmRwb2ludCA9ICdodHRwczovL2FwcGNlbnRlci5pbnR1aXQuY29tL2Nvbm5lY3Qvb2F1dGgyJztcbk9BdXRoQ2xpZW50LnRva2VuRW5kcG9pbnQgPSAnaHR0cHM6Ly9vYXV0aC5wbGF0Zm9ybS5pbnR1aXQuY29tL29hdXRoMi92MS90b2tlbnMvYmVhcmVyJztcbk9BdXRoQ2xpZW50LnJldm9rZUVuZHBvaW50ID0gJ2h0dHBzOi8vZGV2ZWxvcGVyLmFwaS5pbnR1aXQuY29tL3YyL29hdXRoMi90b2tlbnMvcmV2b2tlJztcbk9BdXRoQ2xpZW50LnVzZXJpbmZvX2VuZHBvaW50X3Byb2R1Y3Rpb24gPVxuICAnaHR0cHM6Ly9hY2NvdW50cy5wbGF0Zm9ybS5pbnR1aXQuY29tL3YxL29wZW5pZF9jb25uZWN0L3VzZXJpbmZvJztcbk9BdXRoQ2xpZW50LnVzZXJpbmZvX2VuZHBvaW50X3NhbmRib3ggPVxuICAnaHR0cHM6Ly9zYW5kYm94LWFjY291bnRzLnBsYXRmb3JtLmludHVpdC5jb20vdjEvb3BlbmlkX2Nvbm5lY3QvdXNlcmluZm8nO1xuT0F1dGhDbGllbnQubWlncmF0ZV9zYW5kYm94ID0gJ2h0dHBzOi8vZGV2ZWxvcGVyLXNhbmRib3guYXBpLmludHVpdC5jb20vdjIvb2F1dGgyL3Rva2Vucy9taWdyYXRlJztcbk9BdXRoQ2xpZW50Lm1pZ3JhdGVfcHJvZHVjdGlvbiA9ICdodHRwczovL2RldmVsb3Blci5hcGkuaW50dWl0LmNvbS92Mi9vYXV0aDIvdG9rZW5zL21pZ3JhdGUnO1xuT0F1dGhDbGllbnQuZW52aXJvbm1lbnQgPSB7XG4gIHNhbmRib3g6ICdodHRwczovL3NhbmRib3gtcXVpY2tib29rcy5hcGkuaW50dWl0LmNvbS8nLFxuICBwcm9kdWN0aW9uOiAnaHR0cHM6Ly9xdWlja2Jvb2tzLmFwaS5pbnR1aXQuY29tLycsXG59O1xuT0F1dGhDbGllbnQucWJvX2Vudmlyb25tZW50ID0ge1xuICBzYW5kYm94OiAnaHR0cHM6Ly9zYW5kYm94LnFiby5pbnR1aXQuY29tL2FwcC8nLFxuICBwcm9kdWN0aW9uOiAnaHR0cHM6Ly9xYm8uaW50dWl0LmNvbS9hcHAvJyxcbn07XG5PQXV0aENsaWVudC5qd2tzX3VyaSA9ICdodHRwczovL29hdXRoLnBsYXRmb3JtLmludHVpdC5jb20vb3AvdjEvandrcyc7XG5PQXV0aENsaWVudC5zY29wZXMgPSB7XG4gIEFjY291bnRpbmc6ICdjb20uaW50dWl0LnF1aWNrYm9va3MuYWNjb3VudGluZycsXG4gIFBheW1lbnQ6ICdjb20uaW50dWl0LnF1aWNrYm9va3MucGF5bWVudCcsXG4gIFBheXJvbGw6ICdjb20uaW50dWl0LnF1aWNrYm9va3MucGF5cm9sbCcsXG4gIFRpbWVUcmFja2luZzogJ2NvbS5pbnR1aXQucXVpY2tib29rcy5wYXlyb2xsLnRpbWV0cmFja2luZycsXG4gIEJlbmVmaXRzOiAnY29tLmludHVpdC5xdWlja2Jvb2tzLnBheXJvbGwuYmVuZWZpdHMnLFxuICBQcm9maWxlOiAncHJvZmlsZScsXG4gIEVtYWlsOiAnZW1haWwnLFxuICBQaG9uZTogJ3Bob25lJyxcbiAgQWRkcmVzczogJ2FkZHJlc3MnLFxuICBPcGVuSWQ6ICdvcGVuaWQnLFxuICBJbnR1aXRfbmFtZTogJ2ludHVpdF9uYW1lJyxcbn07XG5PQXV0aENsaWVudC51c2VyX2FnZW50ID0gYEludHVpdC1PQXV0aENsaWVudC1KU18ke1xuICB2ZXJzaW9uLnZlcnNpb25cbn1fJHtvcy50eXBlKCl9XyR7b3MucmVsZWFzZSgpfV8ke29zLnBsYXRmb3JtKCl9YDtcblxuT0F1dGhDbGllbnQucHJvdG90eXBlLnNldEF1dGhvcml6ZVVSTHMgPSBmdW5jdGlvbiBzZXRBdXRob3JpemVVUkxzKHBhcmFtcykge1xuICAvLyBjaGVjayBpZiB0aGUgY3VzdG9tVVJMJ3MgYXJlIHBhc3NlZCBjb3JyZWN0bHlcbiAgaWYgKCFwYXJhbXMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcm92aWRlIHRoZSBjdXN0b20gYXV0aG9yaXplIFVSTCdzXCIpO1xuICB9XG4gIE9BdXRoQ2xpZW50LmF1dGhvcml6ZUVuZHBvaW50ID0gcGFyYW1zLmF1dGhvcml6ZUVuZHBvaW50O1xuICBPQXV0aENsaWVudC50b2tlbkVuZHBvaW50ID0gcGFyYW1zLnRva2VuRW5kcG9pbnQ7XG4gIE9BdXRoQ2xpZW50LnJldm9rZUVuZHBvaW50ID0gcGFyYW1zLnJldm9rZUVuZHBvaW50O1xuICB0aGlzLmVudmlyb25tZW50ID09PSAnc2FuZGJveCdcbiAgICA/IChPQXV0aENsaWVudC51c2VyaW5mb19lbmRwb2ludF9zYW5kYm94ID0gcGFyYW1zLnVzZXJJbmZvRW5kcG9pbnQpXG4gICAgOiAoT0F1dGhDbGllbnQudXNlcmluZm9fZW5kcG9pbnRfcHJvZHVjdGlvbiA9IHBhcmFtcy51c2VySW5mb0VuZHBvaW50KTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbk9BdXRoQ2xpZW50LnByb3RvdHlwZS5nZXRFbnZpcm9ubWVudFVSSSA9IGZ1bmN0aW9uIGdldEVudmlyb25tZW50VVJJKCkgeyBcbiAgcmV0dXJuICh0aGlzLmVudmlyb25tZW50ICYmIHRoaXMuZW52aXJvbm1lbnQgPT09ICdwcm9kdWN0aW9uJykgPyBPQXV0aENsaWVudC5lbnZpcm9ubWVudC5wcm9kdWN0aW9uIDogT0F1dGhDbGllbnQuZW52aXJvbm1lbnQuc2FuZGJveDtcbn1cblxuXG5PQXV0aENsaWVudC5wcm90b3R5cGUuZ2V0UUJPRW52aXJvbm1lbnRVUkkgPSBmdW5jdGlvbiBnZXRRQk9FbnZpcm9ubWVudFVSSSgpIHtcbiAgcmV0dXJuICh0aGlzLmVudmlyb25tZW50ICYmIHRoaXMuZW52aXJvbm1lbnQgPT09ICdwcm9kdWN0aW9uJykgPyBPQXV0aENsaWVudC5xYm9fZW52aXJvbm1lbnQucHJvZHVjdGlvbiA6IE9BdXRoQ2xpZW50LnFib19lbnZpcm9ubWVudC5zYW5kYm94O1xufVxuXG5cbi8qKlxuICogUmVkaXJlY3QgIFVzZXIgdG8gQXV0aG9yaXphdGlvbiBQYWdlXG4gKiAqXG4gKiBAcGFyYW0gcGFyYW1zXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBhdXRob3JpemUgVXJpXG4gKi9cbk9BdXRoQ2xpZW50LnByb3RvdHlwZS5hdXRob3JpemVVcmkgPSBmdW5jdGlvbiBhdXRob3JpemVVcmkocGFyYW1zKSB7XG4gIHBhcmFtcyA9IHBhcmFtcyB8fCB7fTtcblxuICAvLyBjaGVjayBpZiB0aGUgc2NvcGVzIGlzIHByb3ZpZGVkXG4gIGlmICghcGFyYW1zLnNjb3BlKSB0aHJvdyBuZXcgRXJyb3IoJ1Byb3ZpZGUgdGhlIHNjb3BlcycpO1xuXG4gIGNvbnN0IGF1dGhVcmkgPSBgJHtPQXV0aENsaWVudC5hdXRob3JpemVFbmRwb2ludH0/JHtxdWVyeVN0cmluZy5zdHJpbmdpZnkoe1xuICAgIHJlc3BvbnNlX3R5cGU6ICdjb2RlJyxcbiAgICByZWRpcmVjdF91cmk6IHRoaXMucmVkaXJlY3RVcmksXG4gICAgY2xpZW50X2lkOiB0aGlzLmNsaWVudElkLFxuICAgIHNjb3BlOiBBcnJheS5pc0FycmF5KHBhcmFtcy5zY29wZSkgPyBwYXJhbXMuc2NvcGUuam9pbignICcpIDogcGFyYW1zLnNjb3BlLFxuICAgIHN0YXRlOiBwYXJhbXMuc3RhdGUgfHwgdGhpcy5zdGF0ZS5jcmVhdGUodGhpcy5zdGF0ZS5zZWNyZXRTeW5jKCkpLFxuICB9KX1gO1xuXG4gIHRoaXMubG9nKCdpbmZvJywgJ1RoZSBBdXRob3JpemUgVXJpIGlzIDonLCBhdXRoVXJpKTtcbiAgcmV0dXJuIGF1dGhVcmk7XG59O1xuXG4vKipcbiAqIFNhZmUgSlNPTiBzdHJpbmdpZnkgdGhhdCBoYW5kbGVzIGNpcmN1bGFyIHJlZmVyZW5jZXNcbiAqIEBwYXJhbSB7Kn0gb2JqIC0gT2JqZWN0IHRvIHN0cmluZ2lmeVxuICogQHJldHVybnMge3N0cmluZ30gSlNPTiBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gc2FmZVN0cmluZ2lmeShvYmopIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqLCAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgaWYgKGtleSA9PT0gJ19yZWRpcmVjdGFibGUnIHx8IGtleSA9PT0gJ19jdXJyZW50UmVxdWVzdCcgfHwga2V5ID09PSAnc29ja2V0Jykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIFN0cmluZyhvYmopO1xuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlIFRva2VuIHsgZXhjaGFuZ2UgYXV0aG9yaXphdGlvbiBjb2RlIGZvciBiZWFyZXJfdG9rZW4gfVxuICogKlxuICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSB1cmlcbiAqIEByZXR1cm5zIHtQcm9taXNlfVxuICovXG5PQXV0aENsaWVudC5wcm90b3R5cGUuY3JlYXRlVG9rZW4gPSBmdW5jdGlvbiBjcmVhdGVUb2tlbih1cmkpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgaWYgKCF1cmkpIHRocm93IG5ldyBFcnJvcignUHJvdmlkZSB0aGUgVXJpJyk7XG4gICAgLy8gU2FmZWx5IHBhcnNlIHF1ZXJ5IHN0cmluZyBmcm9tIFVSSVxuICAgIGNvbnN0IHF1ZXJ5SW5kZXggPSB1cmkuaW5kZXhPZignPycpO1xuICAgIGNvbnN0IHF1ZXJ5UGFydCA9IHF1ZXJ5SW5kZXggIT09IC0xID8gdXJpLnN1YnN0cmluZyhxdWVyeUluZGV4ICsgMSkgOiB1cmk7XG4gICAgY29uc3QgcGFyYW1zID0gcXVlcnlTdHJpbmcucGFyc2UocXVlcnlQYXJ0KTtcbiAgICBcbiAgICAvLyBGaXg6IERpcmVjdGx5IGFjY2VzcyB0b2tlbiBvYmplY3QgaW5zdGVhZCBvZiBnZXRUb2tlbigpIHdoaWNoIHJldHVybnMgYSBjb3B5XG4gICAgdGhpcy50b2tlbi5yZWFsbUlkID0gcGFyYW1zLnJlYWxtSWQgfHwgJyc7XG4gICAgaWYgKCdzdGF0ZScgaW4gcGFyYW1zKSB0aGlzLnRva2VuLnN0YXRlID0gcGFyYW1zLnN0YXRlO1xuXG4gICAgY29uc3QgYm9keSA9IHt9O1xuICAgIGlmIChwYXJhbXMuY29kZSkge1xuICAgICAgYm9keS5ncmFudF90eXBlID0gJ2F1dGhvcml6YXRpb25fY29kZSc7XG4gICAgICBib2R5LmNvZGUgPSBwYXJhbXMuY29kZTtcbiAgICAgIGJvZHkucmVkaXJlY3RfdXJpID0gcGFyYW1zLnJlZGlyZWN0VXJpIHx8IHRoaXMucmVkaXJlY3RVcmk7XG4gICAgfVxuICAgIFxuICAgIC8vIExvZyByZXF1ZXN0IGRldGFpbHMgZm9yIGRlYnVnZ2luZyAod2l0aG91dCBzZW5zaXRpdmUgZGF0YSlcbiAgICB0aGlzLmxvZygnaW5mbycsICdUb2tlbiBleGNoYW5nZSByZXF1ZXN0OicsIHtcbiAgICAgIGdyYW50X3R5cGU6IGJvZHkuZ3JhbnRfdHlwZSxcbiAgICAgIGNvZGVfbGVuZ3RoOiBib2R5LmNvZGUgPyBib2R5LmNvZGUubGVuZ3RoIDogMCxcbiAgICAgIHJlZGlyZWN0X3VyaTogYm9keS5yZWRpcmVjdF91cmksXG4gICAgICBoYXNfY29kZTogISFib2R5LmNvZGUsXG4gICAgICByZWFsbUlkOiB0aGlzLnRva2VuLnJlYWxtSWQsXG4gICAgICBzdGF0ZTogdGhpcy50b2tlbi5zdGF0ZSxcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICB1cmw6IE9BdXRoQ2xpZW50LnRva2VuRW5kcG9pbnQsXG4gICAgICBkYXRhOiBib2R5LFxuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IGBCYXNpYyAke3RoaXMuYXV0aEhlYWRlcigpfWAsXG4gICAgICAgICdDb250ZW50LVR5cGUnOiBBdXRoUmVzcG9uc2UuX3VybGVuY29kZWRDb250ZW50VHlwZSxcbiAgICAgICAgQWNjZXB0OiBBdXRoUmVzcG9uc2UuX2pzb25Db250ZW50VHlwZSxcbiAgICAgICAgJ1VzZXItQWdlbnQnOiBPQXV0aENsaWVudC51c2VyX2FnZW50LFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgcmVzb2x2ZSh0aGlzLmdldFRva2VuUmVxdWVzdChyZXF1ZXN0KSk7XG4gIH0pXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgY29uc3QgYXV0aFJlc3BvbnNlID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlcywgJ2pzb24nKSA/IHJlcyA6IG51bGw7XG4gICAgICBjb25zdCBqc29uID0gKGF1dGhSZXNwb25zZSAmJiBhdXRoUmVzcG9uc2UuanNvbikgfHwgcmVzO1xuICAgICAgdGhpcy50b2tlbi5zZXRUb2tlbihqc29uKTtcbiAgICAgIHRoaXMubG9nKCdpbmZvJywgJ0NyZWF0ZSBUb2tlbiByZXNwb25zZSBpcyA6ICcsIHNhZmVTdHJpbmdpZnkoYXV0aFJlc3BvbnNlICYmIGF1dGhSZXNwb25zZS5qc29uKSk7XG4gICAgICByZXR1cm4gYXV0aFJlc3BvbnNlO1xuICAgIH0pXG4gICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICB0aGlzLmxvZygnZXJyb3InLCAnQ3JlYXRlIFRva2VuICgpIHRocmV3IGFuIGV4Y2VwdGlvbiA6ICcsIHNhZmVTdHJpbmdpZnkoZSkpO1xuICAgICAgdGhyb3cgZTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogUmVmcmVzaCB0aGUgYWNjZXNzX3Rva2VuXG4gKiAqXG4gKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAqL1xuT0F1dGhDbGllbnQucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiByZWZyZXNoKCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICB0aGlzLnZhbGlkYXRlVG9rZW4oKTtcblxuICAgIGNvbnN0IGJvZHkgPSB7fTtcblxuICAgIGJvZHkuZ3JhbnRfdHlwZSA9ICdyZWZyZXNoX3Rva2VuJztcbiAgICBib2R5LnJlZnJlc2hfdG9rZW4gPSB0aGlzLmdldFRva2VuKCkucmVmcmVzaF90b2tlbjtcblxuICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICB1cmw6IE9BdXRoQ2xpZW50LnRva2VuRW5kcG9pbnQsXG4gICAgICBkYXRhOiBib2R5LFxuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IGBCYXNpYyAke3RoaXMuYXV0aEhlYWRlcigpfWAsXG4gICAgICAgICdDb250ZW50LVR5cGUnOiBBdXRoUmVzcG9uc2UuX3VybGVuY29kZWRDb250ZW50VHlwZSxcbiAgICAgICAgQWNjZXB0OiBBdXRoUmVzcG9uc2UuX2pzb25Db250ZW50VHlwZSxcbiAgICAgICAgJ1VzZXItQWdlbnQnOiBPQXV0aENsaWVudC51c2VyX2FnZW50LFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgcmVzb2x2ZSh0aGlzLmdldFRva2VuUmVxdWVzdChyZXF1ZXN0KSk7XG4gIH0pXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgY29uc3QgYXV0aFJlc3BvbnNlID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlcywgJ2pzb24nKSA/IHJlcyA6IG51bGw7XG4gICAgICBjb25zdCBqc29uID0gKGF1dGhSZXNwb25zZSAmJiBhdXRoUmVzcG9uc2UuanNvbikgfHwgcmVzO1xuICAgICAgdGhpcy50b2tlbi5zZXRUb2tlbihqc29uKTtcbiAgICAgIHRoaXMubG9nKCdpbmZvJywgJ1JlZnJlc2ggVG9rZW4gKCkgcmVzcG9uc2UgaXMgOiAnLCBzYWZlU3RyaW5naWZ5KGF1dGhSZXNwb25zZSAmJiBhdXRoUmVzcG9uc2UuanNvbikpO1xuICAgICAgcmV0dXJuIGF1dGhSZXNwb25zZTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgdGhpcy5sb2coJ2Vycm9yJywgJ1JlZnJlc2ggVG9rZW4gKCkgdGhyZXcgYW4gZXhjZXB0aW9uIDogJywgc2FmZVN0cmluZ2lmeShlKSk7XG4gICAgICB0aHJvdyBlO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBSZWZyZXNoIFRva2VucyBieSBwYXNzaW5nIHJlZnJlc2hfdG9rZW4gcGFyYW1ldGVyIGV4cGxpY2l0bHlcbiAqICpcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWZyZXNoX3Rva2VuXG4gKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAqL1xuT0F1dGhDbGllbnQucHJvdG90eXBlLnJlZnJlc2hVc2luZ1Rva2VuID0gZnVuY3Rpb24gcmVmcmVzaFVzaW5nVG9rZW4ocmVmcmVzaF90b2tlbikge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBpZiAoIXJlZnJlc2hfdG9rZW4pIHRocm93IG5ldyBFcnJvcignVGhlIFJlZnJlc2ggdG9rZW4gaXMgbWlzc2luZycpO1xuXG4gICAgY29uc3QgYm9keSA9IHt9O1xuXG4gICAgYm9keS5ncmFudF90eXBlID0gJ3JlZnJlc2hfdG9rZW4nO1xuICAgIGJvZHkucmVmcmVzaF90b2tlbiA9IHJlZnJlc2hfdG9rZW47XG5cbiAgICBjb25zdCByZXF1ZXN0ID0ge1xuICAgICAgdXJsOiBPQXV0aENsaWVudC50b2tlbkVuZHBvaW50LFxuICAgICAgZGF0YTogYm9keSxcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBdXRob3JpemF0aW9uOiBgQmFzaWMgJHt0aGlzLmF1dGhIZWFkZXIoKX1gLFxuICAgICAgICAnQ29udGVudC1UeXBlJzogQXV0aFJlc3BvbnNlLl91cmxlbmNvZGVkQ29udGVudFR5cGUsXG4gICAgICAgIEFjY2VwdDogQXV0aFJlc3BvbnNlLl9qc29uQ29udGVudFR5cGUsXG4gICAgICAgICdVc2VyLUFnZW50JzogT0F1dGhDbGllbnQudXNlcl9hZ2VudCxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIHJlc29sdmUodGhpcy5nZXRUb2tlblJlcXVlc3QocmVxdWVzdCkpO1xuICB9KVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIGNvbnN0IGF1dGhSZXNwb25zZSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXMsICdqc29uJykgPyByZXMgOiBudWxsO1xuICAgICAgY29uc3QganNvbiA9IChhdXRoUmVzcG9uc2UgJiYgYXV0aFJlc3BvbnNlLmpzb24pIHx8IHJlcztcbiAgICAgIHRoaXMudG9rZW4uc2V0VG9rZW4oanNvbik7XG4gICAgICB0aGlzLmxvZyhcbiAgICAgICAgJ2luZm8nLFxuICAgICAgICAnUmVmcmVzaCB1c2luZ1Rva2VuICgpIHJlc3BvbnNlIGlzIDogJywgc2FmZVN0cmluZ2lmeShhdXRoUmVzcG9uc2UgJiYgYXV0aFJlc3BvbnNlLmpzb24pLFxuICAgICAgKTtcbiAgICAgIHJldHVybiBhdXRoUmVzcG9uc2U7XG4gICAgfSlcbiAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgIHRoaXMubG9nKCdlcnJvcicsICdSZWZyZXNoIFRva2VuICgpIHRocmV3IGFuIGV4Y2VwdGlvbiA6ICcsIHNhZmVTdHJpbmdpZnkoZSkpO1xuICAgICAgdGhyb3cgZTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogUmV2b2tlIGFjY2Vzc190b2tlbi9yZWZyZXNoX3Rva2VuXG4gKiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zLmFjY2Vzc190b2tlbiAob3B0aW9uYWwpXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zLnJlZnJlc2hfdG9rZW4gKG9wdGlvbmFsKVxuICogQHJldHVybnMge1Byb21pc2V9XG4gKi9cbk9BdXRoQ2xpZW50LnByb3RvdHlwZS5yZXZva2UgPSBmdW5jdGlvbiByZXZva2UocGFyYW1zKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIHBhcmFtcyA9IHBhcmFtcyB8fCB7fTtcblxuICAgIGNvbnN0IGJvZHkgPSB7fTtcblxuICAgIGJvZHkudG9rZW4gPVxuICAgICAgcGFyYW1zLmFjY2Vzc190b2tlbiB8fFxuICAgICAgcGFyYW1zLnJlZnJlc2hfdG9rZW4gfHxcbiAgICAgICh0aGlzLmdldFRva2VuKCkuaXNBY2Nlc3NUb2tlblZhbGlkKClcbiAgICAgICAgPyB0aGlzLmdldFRva2VuKCkuYWNjZXNzX3Rva2VuXG4gICAgICAgIDogdGhpcy5nZXRUb2tlbigpLnJlZnJlc2hfdG9rZW4pO1xuXG4gICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgIHVybDogT0F1dGhDbGllbnQucmV2b2tlRW5kcG9pbnQsXG4gICAgICBkYXRhOiBib2R5LFxuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IGBCYXNpYyAke3RoaXMuYXV0aEhlYWRlcigpfWAsXG4gICAgICAgIEFjY2VwdDogQXV0aFJlc3BvbnNlLl9qc29uQ29udGVudFR5cGUsXG4gICAgICAgICdDb250ZW50LVR5cGUnOiBBdXRoUmVzcG9uc2UuX2pzb25Db250ZW50VHlwZSxcbiAgICAgICAgJ1VzZXItQWdlbnQnOiBPQXV0aENsaWVudC51c2VyX2FnZW50LFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgcmVzb2x2ZSh0aGlzLmdldFRva2VuUmVxdWVzdChyZXF1ZXN0KSk7XG4gIH0pXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgY29uc3QgYXV0aFJlc3BvbnNlID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlcywgJ2pzb24nKSA/IHJlcyA6IG51bGw7XG4gICAgICB0aGlzLnRva2VuLmNsZWFyVG9rZW4oKTtcbiAgICAgIHRoaXMubG9nKCdpbmZvJywgJ1Jldm9rZSBUb2tlbiAoKSByZXNwb25zZSBpcyA6ICcsIHNhZmVTdHJpbmdpZnkoYXV0aFJlc3BvbnNlICYmIGF1dGhSZXNwb25zZS5qc29uKSk7XG4gICAgICByZXR1cm4gYXV0aFJlc3BvbnNlO1xuICAgIH0pXG4gICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICB0aGlzLmxvZygnZXJyb3InLCAnUmV2b2tlIFRva2VuICgpIHRocmV3IGFuIGV4Y2VwdGlvbiA6ICcsIHNhZmVTdHJpbmdpZnkoZSkpO1xuICAgICAgdGhyb3cgZTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogR2V0IFVzZXIgSW5mbyAgeyBHZXQgVXNlciBJbmZvIH1cbiAqICpcbiAqIEByZXR1cm5zIHtQcm9taXNlfVxuICovXG5PQXV0aENsaWVudC5wcm90b3R5cGUuZ2V0VXNlckluZm8gPSBmdW5jdGlvbiBnZXRVc2VySW5mbygpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgIHVybDpcbiAgICAgICAgdGhpcy5lbnZpcm9ubWVudCA9PT0gJ3NhbmRib3gnXG4gICAgICAgICAgPyBPQXV0aENsaWVudC51c2VyaW5mb19lbmRwb2ludF9zYW5kYm94XG4gICAgICAgICAgOiBPQXV0aENsaWVudC51c2VyaW5mb19lbmRwb2ludF9wcm9kdWN0aW9uLFxuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMudG9rZW4uYWNjZXNzX3Rva2VufWAsXG4gICAgICAgIEFjY2VwdDogQXV0aFJlc3BvbnNlLl9qc29uQ29udGVudFR5cGUsXG4gICAgICAgICdVc2VyLUFnZW50JzogT0F1dGhDbGllbnQudXNlcl9hZ2VudCxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIHJlc29sdmUodGhpcy5nZXRUb2tlblJlcXVlc3QocmVxdWVzdCkpO1xuICB9KVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIGNvbnN0IGF1dGhSZXNwb25zZSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXMsICdqc29uJykgPyByZXMgOiBudWxsO1xuICAgICAgdGhpcy5sb2coXG4gICAgICAgICdpbmZvJyxcbiAgICAgICAgJ1RoZSBHZXQgVXNlciBJbmZvICgpIHJlc3BvbnNlIGlzIDogJywgc2FmZVN0cmluZ2lmeShhdXRoUmVzcG9uc2UgJiYgYXV0aFJlc3BvbnNlLmpzb24pLFxuICAgICAgKTtcbiAgICAgIHJldHVybiBhdXRoUmVzcG9uc2U7XG4gICAgfSlcbiAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgIHRoaXMubG9nKCdlcnJvcicsICdHZXQgVXNlciBJbmZvICgpICB0aHJldyBhbiBleGNlcHRpb24gOiAnLCBzYWZlU3RyaW5naWZ5KGUpKTtcbiAgICAgIHRocm93IGU7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIE1ha2UgQVBJIGNhbGwuIFBhc3MgdGhlIHVybCxtZXRob2QsaGVhZGVycyB1c2luZyBgcGFyYW1zYCBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge3BhcmFtc30gcGFyYW1zXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1zLnVybFxuICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtcy5tZXRob2QgKG9wdGlvbmFsKSBkZWZhdWx0IGlzIEdFVFxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcy5oZWFkZXJzIChvcHRpb25hbClcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMuYm9keSAob3B0aW9uYWwpXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1zLnJlc3BvbnNlVHlwZSAob3B0aW9uYWwpIGRlZmF1bHQgaXMganNvbiAtIG9wdGlvbnMgYXJlIGpzb24sIHRleHQsIHN0cmVhbSwgYXJyYXlidWZmZXJcbiAqIEByZXR1cm5zIHtQcm9taXNlfVxuICovXG5PQXV0aENsaWVudC5wcm90b3R5cGUubWFrZUFwaUNhbGwgPSBhc3luYyBmdW5jdGlvbiBtYWtlQXBpQ2FsbCh7IHVybCwgbWV0aG9kLCBoZWFkZXJzOiBjdXN0b21IZWFkZXJzLCBib2R5LCBwYXJhbXMsIHRpbWVvdXQsIHJlc3BvbnNlVHlwZSwgbWF4UmV0cmllcyA9IDMgfSkge1xuICBpZiAoIXVybCkge1xuICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoJ1VSTCBpcyByZXF1aXJlZCBmb3IgQVBJIGNhbGwnKTtcbiAgfVxuXG4gIC8vIERldGVybWluZSB0aGUgZnVsbCBVUkwgLSBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IGZvciByZWxhdGl2ZSBlbmRwb2ludHNcbiAgbGV0IGZ1bGxVcmwgPSB1cmw7XG4gIGlmICghdXJsLnN0YXJ0c1dpdGgoJ2h0dHA6Ly8nKSAmJiAhdXJsLnN0YXJ0c1dpdGgoJ2h0dHBzOi8vJykpIHtcbiAgICAvLyBVc2VyIHByb3ZpZGVkIGEgcmVsYXRpdmUgZW5kcG9pbnRcbiAgICBjb25zdCBiYXNlVVJMID0gKHRoaXMuZW52aXJvbm1lbnQgJiYgdGhpcy5lbnZpcm9ubWVudCA9PT0gJ3Byb2R1Y3Rpb24nKSBcbiAgICAgID8gT0F1dGhDbGllbnQuZW52aXJvbm1lbnQucHJvZHVjdGlvbiBcbiAgICAgIDogT0F1dGhDbGllbnQuZW52aXJvbm1lbnQuc2FuZGJveDtcbiAgICBcbiAgICAvLyBSZW1vdmUgbGVhZGluZyBzbGFzaCBpZiBwcmVzZW50IHRvIGF2b2lkIGRvdWJsZSBzbGFzaGVzXG4gICAgY29uc3QgZW5kcG9pbnQgPSB1cmwuc3RhcnRzV2l0aCgnLycpID8gdXJsLnNsaWNlKDEpIDogdXJsO1xuICAgIGZ1bGxVcmwgPSBiYXNlVVJMICsgZW5kcG9pbnQ7XG4gIH1cblxuICBsZXQgYXR0ZW1wdCA9IDA7XG4gIGxldCBsYXN0RXJyb3IgPSBudWxsO1xuXG4gIHdoaWxlIChhdHRlbXB0IDwgbWF4UmV0cmllcykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXF1ZXN0Q29uZmlnID0ge1xuICAgICAgICBtZXRob2Q6IG1ldGhvZCB8fCAnR0VUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmdldFRva2VuKCkuYWNjZXNzX3Rva2VufWAsXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICdVc2VyLUFnZW50JzogT0F1dGhDbGllbnQudXNlcl9hZ2VudCxcbiAgICAgICAgICAuLi5jdXN0b21IZWFkZXJzLFxuICAgICAgICB9LFxuICAgICAgICB0aW1lb3V0OiB0aW1lb3V0IHx8IDMwMDAwLFxuICAgICAgICByZXNwb25zZVR5cGU6IHJlc3BvbnNlVHlwZSB8fCAnanNvbicsXG4gICAgICAgIGRhdGE6IGJvZHksXG4gICAgICAgIHBhcmFtcyxcbiAgICAgIH07XG5cbiAgICAgIC8vIE1ha2UgdGhlIEFQSSBjYWxsXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXhpb3NJbnN0YW5jZShmdWxsVXJsLCByZXF1ZXN0Q29uZmlnKTtcbiAgICAgIFxuICAgICAgLy8gTG9nIHRoZSBzdWNjZXNzZnVsIHJlc3BvbnNlXG4gICAgICB0aGlzLmxvZygnaW5mbycsICdUaGUgbWFrZUFQSUNhbGwgKCkgcmVzcG9uc2UgaXMgOiAnLCBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhLCBudWxsLCAyKSk7XG4gICAgICBcbiAgICAgIC8vIFJldHVybiBpbiBBdXRoUmVzcG9uc2UtY29tcGF0aWJsZSBmb3JtYXQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgICBoZWFkZXJzOiByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICBqc29uOiByZXNwb25zZS5kYXRhLFxuICAgICAgICBib2R5OiB0eXBlb2YgcmVzcG9uc2UuZGF0YSA9PT0gJ3N0cmluZycgPyByZXNwb25zZS5kYXRhIDogSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSksXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBhdHRlbXB0ICs9IDE7XG4gICAgICBsYXN0RXJyb3IgPSBlcnJvcjtcblxuICAgICAgLy8gRGV0YWlsZWQgZXJyb3IgYW5hbHlzaXMgYW5kIGxvZ2dpbmdcbiAgICAgIGNvbnN0IGVycm9yQW5hbHlzaXMgPSB7XG4gICAgICAgIC8vIEJhc2ljIGVycm9yIHByb3BlcnRpZXNcbiAgICAgICAgYmFzaWM6IHtcbiAgICAgICAgICBuYW1lOiBlcnJvci5uYW1lLFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgc3RhY2s6IGVycm9yLnN0YWNrLFxuICAgICAgICAgIGNvZGU6IGVycm9yLmNvZGUsXG4gICAgICAgIH0sXG4gICAgICAgIC8vIFJlc3BvbnNlIGFuYWx5c2lzXG4gICAgICAgIHJlc3BvbnNlOiBlcnJvci5yZXNwb25zZSA/IHtcbiAgICAgICAgICBzdGF0dXM6IGVycm9yLnJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICBzdGF0dXNUZXh0OiBlcnJvci5yZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgICAgIGhlYWRlcnM6IGVycm9yLnJlc3BvbnNlLmhlYWRlcnMsXG4gICAgICAgICAgLy8gRGVlcCBhbmFseXNpcyBvZiByZXNwb25zZSBkYXRhXG4gICAgICAgICAgZGF0YTogZXJyb3IucmVzcG9uc2UuZGF0YSxcbiAgICAgICAgICAvLyBTcGVjaWZpYyBGYXVsdCBvYmplY3QgYW5hbHlzaXNcbiAgICAgICAgICBmYXVsdDogZXJyb3IucmVzcG9uc2UuZGF0YSAmJiBlcnJvci5yZXNwb25zZS5kYXRhLkZhdWx0ID8ge1xuICAgICAgICAgICAgdHlwZTogZXJyb3IucmVzcG9uc2UuZGF0YS5GYXVsdC50eXBlLFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yLnJlc3BvbnNlLmRhdGEuRmF1bHQuRXJyb3IgPyBlcnJvci5yZXNwb25zZS5kYXRhLkZhdWx0LkVycm9yLm1hcChlcnIgPT4gKHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogZXJyLk1lc3NhZ2UsXG4gICAgICAgICAgICAgIGRldGFpbDogZXJyLkRldGFpbCxcbiAgICAgICAgICAgICAgY29kZTogZXJyLmNvZGUsXG4gICAgICAgICAgICAgIGVsZW1lbnQ6IGVyci5lbGVtZW50LFxuICAgICAgICAgICAgICBhZGRpdGlvbmFsSW5mbzogZXJyLmFkZGl0aW9uYWxJbmZvLFxuICAgICAgICAgICAgfSkpIDogbnVsbCxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogZXJyb3IucmVzcG9uc2UuZGF0YS50aW1lLFxuICAgICAgICAgIH0gOiBudWxsLFxuICAgICAgICAgIC8vIE9BdXRoIGVycm9yIGZpZWxkc1xuICAgICAgICAgIG9hdXRoOiB7XG4gICAgICAgICAgICBlcnJvcjogZXJyb3IucmVzcG9uc2UuZGF0YSAmJiBlcnJvci5yZXNwb25zZS5kYXRhLmVycm9yLFxuICAgICAgICAgICAgZXJyb3JfZGVzY3JpcHRpb246IGVycm9yLnJlc3BvbnNlLmRhdGEgJiYgZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcl9kZXNjcmlwdGlvbixcbiAgICAgICAgICB9LFxuICAgICAgICB9IDogbnVsbCxcbiAgICAgICAgLy8gUmVxdWVzdCBhbmFseXNpc1xuICAgICAgICByZXF1ZXN0OiBlcnJvci5yZXF1ZXN0ID8ge1xuICAgICAgICAgIG1ldGhvZDogZXJyb3IucmVxdWVzdC5tZXRob2QsXG4gICAgICAgICAgcGF0aDogZXJyb3IucmVxdWVzdC5wYXRoLFxuICAgICAgICAgIGhlYWRlcnM6IGVycm9yLnJlcXVlc3QuaGVhZGVycyxcbiAgICAgICAgfSA6IG51bGwsXG4gICAgICAgIC8vIENvbnRleHRcbiAgICAgICAgY29udGV4dDoge1xuICAgICAgICAgIGF0dGVtcHQsXG4gICAgICAgICAgdXJsOiBmdWxsVXJsLFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgLy8gTG9nIHRoZSBkZXRhaWxlZCBlcnJvciBhbmFseXNpc1xuICAgICAgdGhpcy5sb2coJ2Vycm9yJywgJ0V4Y2VwdGlvbiBBbmFseXNpczonLCB7XG4gICAgICAgIGhhc0ZhdWx0T2JqZWN0OiAhIShlcnJvci5yZXNwb25zZSAmJiBlcnJvci5yZXNwb25zZS5kYXRhICYmIGVycm9yLnJlc3BvbnNlLmRhdGEuRmF1bHQpLFxuICAgICAgICBmYXVsdFR5cGU6IGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLmRhdGEgJiYgZXJyb3IucmVzcG9uc2UuZGF0YS5GYXVsdCAmJiBlcnJvci5yZXNwb25zZS5kYXRhLkZhdWx0LnR5cGUsXG4gICAgICAgIGZhdWx0RXJyb3JzOiBlcnJvci5yZXNwb25zZSAmJiBlcnJvci5yZXNwb25zZS5kYXRhICYmIGVycm9yLnJlc3BvbnNlLmRhdGEuRmF1bHQgJiYgZXJyb3IucmVzcG9uc2UuZGF0YS5GYXVsdC5FcnJvcixcbiAgICAgICAgZnVsbEFuYWx5c2lzOiBlcnJvckFuYWx5c2lzLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIExvZyB0aGUgZXJyb3IgZm9yIGRlYnVnZ2luZ1xuICAgICAgdGhpcy5sb2coJ2Vycm9yJywgJ0FQSSBjYWxsIGZhaWxlZDonLCB7XG4gICAgICAgIGVycm9yOiAoZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2UuZGF0YSkgfHwgZXJyb3IubWVzc2FnZSxcbiAgICAgICAgc3RhdHVzOiBlcnJvci5yZXNwb25zZSAmJiBlcnJvci5yZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIGF0dGVtcHQsXG4gICAgICAgIHVybDogZnVsbFVybCxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBIYW5kbGUgQXhpb3MgZXJyb3JzXG4gICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGRhdGEsIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyB9ID0gZXJyb3IucmVzcG9uc2U7XG4gICAgICAgIGNvbnN0IGludHVpdFRpZCA9IHJlc3BvbnNlSGVhZGVycyAmJiByZXNwb25zZUhlYWRlcnMuaW50dWl0X3RpZDtcblxuICAgICAgICAvLyBIYW5kbGUgNDAwIGVycm9ycyB3aXRoIEZhdWx0IG9iamVjdFxuICAgICAgICBpZiAoc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLkZhdWx0KSB7XG4gICAgICAgICAgICBjb25zdCBmYXVsdCA9IGRhdGEuRmF1bHQ7XG4gICAgICAgICAgICBjb25zdCBmYXVsdEVycm9yID0gZmF1bHQuRXJyb3IgJiYgZmF1bHQuRXJyb3JbMF07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEV4dHJhY3QgZGV0YWlsZWQgZXJyb3IgaW5mb3JtYXRpb24gZnJvbSBGYXVsdCBvYmplY3RcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IChmYXVsdEVycm9yICYmIGZhdWx0RXJyb3IuTWVzc2FnZSkgfHwgJ0JhZCBSZXF1ZXN0JztcbiAgICAgICAgICAgIGNvbnN0IGVycm9yQ29kZSA9IChmYXVsdEVycm9yICYmIGZhdWx0RXJyb3IuY29kZSkgfHwgJzQwMCc7XG4gICAgICAgICAgICBjb25zdCBlcnJvckRldGFpbCA9IChmYXVsdEVycm9yICYmIGZhdWx0RXJyb3IuRGV0YWlsKSB8fCAnUmVxdWVzdCB2YWxpZGF0aW9uIGZhaWxlZCc7XG4gICAgICAgICAgICBjb25zdCBmYXVsdFR5cGUgPSAoZmF1bHQgJiYgZmF1bHQudHlwZSkgfHwgJ1ZhbGlkYXRpb25GYXVsdCc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIG1vcmUgZGVzY3JpcHRpdmUgZXJyb3IgbWVzc2FnZVxuICAgICAgICAgICAgY29uc3QgZGV0YWlsZWRNZXNzYWdlID0gYCR7ZXJyb3JNZXNzYWdlfWA7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRocm93IG5ldyBPQXV0aEVycm9yKFxuICAgICAgICAgICAgICBkZXRhaWxlZE1lc3NhZ2UsXG4gICAgICAgICAgICAgIGVycm9yQ29kZSxcbiAgICAgICAgICAgICAgZXJyb3JEZXRhaWwsXG4gICAgICAgICAgICAgIGludHVpdFRpZCxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZhdWx0VHlwZSxcbiAgICAgICAgICAgICAgICBmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgdHlwZTogZmF1bHRUeXBlLFxuICAgICAgICAgICAgICAgICAgZXJyb3JzOiBmYXVsdC5FcnJvciA/IGZhdWx0LkVycm9yLm1hcChlcnIgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyLk1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbDogZXJyLkRldGFpbCxcbiAgICAgICAgICAgICAgICAgICAgY29kZTogZXJyLmNvZGUsXG4gICAgICAgICAgICAgICAgICB9KSkgOiBbXSxcbiAgICAgICAgICAgICAgICAgIHRpbWU6IGRhdGEudGltZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogZGF0YS50aW1lLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gSGFuZGxlIG90aGVyIDQwMCBlcnJvcnNcbiAgICAgICAgICB0aHJvdyBuZXcgT0F1dGhFcnJvcihcbiAgICAgICAgICAgIChkYXRhICYmIGRhdGEuZXJyb3IpIHx8ICdCYWQgUmVxdWVzdCcsXG4gICAgICAgICAgICAnNDAwJyxcbiAgICAgICAgICAgIChkYXRhICYmIGRhdGEuZXJyb3JfZGVzY3JpcHRpb24pIHx8ICdSZXF1ZXN0IHZhbGlkYXRpb24gZmFpbGVkJyxcbiAgICAgICAgICAgIGludHVpdFRpZCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIHJhdGUgbGltaXQgZXJyb3JzXG4gICAgICAgIGlmIChzdGF0dXMgPT09IDQyOSkge1xuICAgICAgICAgIHRocm93IG5ldyBPQXV0aEVycm9yKFxuICAgICAgICAgICAgJ1JhdGUgbGltaXQgZXhjZWVkZWQnLFxuICAgICAgICAgICAgJ1JBVEVfTElNSVRfRVhDRUVERUQnLFxuICAgICAgICAgICAgJ1RvbyBtYW55IHJlcXVlc3RzLCBwbGVhc2UgdHJ5IGFnYWluIGxhdGVyJyxcbiAgICAgICAgICAgIGludHVpdFRpZCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGFuZGxlIG90aGVyIEhUVFAgZXJyb3JzXG4gICAgICAgIHRocm93IG5ldyBPQXV0aEVycm9yKFxuICAgICAgICAgIChkYXRhICYmIGRhdGEuZXJyb3IpIHx8IGVycm9yLm1lc3NhZ2UgfHwgJ1Vua25vd24gZXJyb3InLFxuICAgICAgICAgIHN0YXR1cyA9PT0gNTAwID8gJ0lOVEVSTkFMX1NFUlZFUl9FUlJPUicgOiBzdGF0dXMudG9TdHJpbmcoKSxcbiAgICAgICAgICAoZGF0YSAmJiBkYXRhLmVycm9yX2Rlc2NyaXB0aW9uKSB8fCAnQW4gZXJyb3Igb2NjdXJyZWQgZHVyaW5nIHRoZSBBUEkgY2FsbCcsXG4gICAgICAgICAgaW50dWl0VGlkLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBIYW5kbGUgbmV0d29yayBlcnJvcnNcbiAgICAgIGlmIChlcnJvci5jb2RlID09PSAnRUNPTk5BQk9SVEVEJykge1xuICAgICAgICB0aHJvdyBuZXcgT0F1dGhFcnJvcihcbiAgICAgICAgICBgUmVxdWVzdCB0aW1lb3V0IG9mICR7dGltZW91dCB8fCAzMDAwMH1tcyBleGNlZWRlZGAsXG4gICAgICAgICAgJ1RJTUVPVVRfRVJST1InLFxuICAgICAgICAgICdUaGUgcmVxdWVzdCB0b29rIHRvbyBsb25nIHRvIGNvbXBsZXRlJyxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gSGFuZGxlIG90aGVyIGVycm9ycyAobm8gcmVzcG9uc2UgcmVjZWl2ZWQpXG4gICAgICBpZiAoZXJyb3IucmVxdWVzdCkge1xuICAgICAgICB0aHJvdyBuZXcgT0F1dGhFcnJvcihcbiAgICAgICAgICAnQ29ubmVjdGlvbiByZXNldCBieSBwZWVyJyxcbiAgICAgICAgICAnTkVUV09SS19FUlJPUicsXG4gICAgICAgICAgJ0EgbmV0d29yayBlcnJvciBvY2N1cnJlZCB3aGlsZSBtYWtpbmcgdGhlIHJlcXVlc3QnLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBIYW5kbGUgYW55IG90aGVyIGVycm9yc1xuICAgICAgdGhyb3cgbmV3IE9BdXRoRXJyb3IoXG4gICAgICAgIGVycm9yLm1lc3NhZ2UgfHwgJ1Vua25vd24gZXJyb3InLFxuICAgICAgICAnT0FVVEhfRVJST1InLFxuICAgICAgICAnQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCcsXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEFkZCBkZWxheSBiZXR3ZWVuIHJldHJpZXNcbiAgICBpZiAoYXR0ZW1wdCA8IG1heFJldHJpZXMpIHtcbiAgICAgIGNvbnN0IGRlbGF5ID0gMiAqKiBhdHRlbXB0ICogMTAwMDtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1hd2FpdC1pbi1sb29wXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXkpKTtcbiAgICB9XG4gIH1cblxuICAvLyBJZiB3ZSd2ZSBleGhhdXN0ZWQgYWxsIHJldHJpZXMsIHRocm93IHRoZSBsYXN0IGVycm9yXG4gIGlmIChsYXN0RXJyb3IpIHtcbiAgICBpZiAobGFzdEVycm9yIGluc3RhbmNlb2YgT0F1dGhFcnJvcikge1xuICAgICAgdGhyb3cgbGFzdEVycm9yO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgT0F1dGhFcnJvcihcbiAgICAgIGxhc3RFcnJvci5tZXNzYWdlIHx8ICdNYXhpbXVtIHJldHJ5IGF0dGVtcHRzIHJlYWNoZWQnLFxuICAgICAgJ01BWF9SRVRSSUVTX0VYQ0VFREVEJyxcbiAgICAgICdUaGUgcmVxdWVzdCBmYWlsZWQgYWZ0ZXIgbXVsdGlwbGUgcmV0cnkgYXR0ZW1wdHMnLFxuICAgICk7XG4gIH1cblxuICAvLyBUaGlzIHNob3VsZCBuZXZlciBiZSByZWFjaGVkLCBidXQgVHlwZVNjcmlwdCBuZWVkcyBpdFxuICB0aHJvdyBuZXcgT0F1dGhFcnJvcihcbiAgICAnVW5leHBlY3RlZCBlcnJvciBpbiBtYWtlQXBpQ2FsbCcsXG4gICAgJ1VOS05PV05fRVJST1InLFxuICAgICdBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIGluIHRoZSBBUEkgY2FsbCcsXG4gICk7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlIGlkX3Rva2VuXG4gKiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zKG9wdGlvbmFsKVxuICogQHJldHVybnMge1Byb21pc2U8QXV0aFJlc3BvbnNlPn1cbiAqL1xuT0F1dGhDbGllbnQucHJvdG90eXBlLnZhbGlkYXRlSWRUb2tlbiA9IGZ1bmN0aW9uIHZhbGlkYXRlSWRUb2tlbihwYXJhbXMgPSB7fSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBpZiAoIXRoaXMuZ2V0VG9rZW4oKS5pZF90b2tlbikgdGhyb3cgbmV3IEVycm9yKCdUaGUgYmVhcmVyIHRva2VuIGRvZXMgbm90IGhhdmUgaWRfdG9rZW4nKTtcblxuICAgIGNvbnN0IGlkX3Rva2VuID0gdGhpcy5nZXRUb2tlbigpLmlkX3Rva2VuIHx8IHBhcmFtcy5pZF90b2tlbjtcblxuICAgIC8vIERlY29kZSBJRCBUb2tlblxuICAgIGNvbnN0IHRva2VuX3BhcnRzID0gaWRfdG9rZW4uc3BsaXQoJy4nKTtcbiAgICBjb25zdCBpZF90b2tlbl9oZWFkZXIgPSBKU09OLnBhcnNlKGF0b2IodG9rZW5fcGFydHNbMF0pKTtcbiAgICBjb25zdCBpZF90b2tlbl9wYXlsb2FkID0gSlNPTi5wYXJzZShhdG9iKHRva2VuX3BhcnRzWzFdKSk7XG5cbiAgICAvLyBTdGVwIDEgOiBGaXJzdCBjaGVjayBpZiB0aGUgaXNzdWVyIGlzIGFzIG1lbnRpb25lZCBpbiBcImlzc3VlclwiXG4gICAgaWYgKGlkX3Rva2VuX3BheWxvYWQuaXNzICE9PSAnaHR0cHM6Ly9vYXV0aC5wbGF0Zm9ybS5pbnR1aXQuY29tL29wL3YxJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGlzc3VlciBpbiBJRCB0b2tlbicpO1xuICAgIH1cblxuICAgIC8vIFN0ZXAgMiA6IGNoZWNrIGlmIHRoZSBhdWQgZmllbGQgaW4gaWRUb2tlbiBjb250YWlucyBhcHBsaWNhdGlvbidzIGNsaWVudElkXG4gICAgaWYgKCFpZF90b2tlbl9wYXlsb2FkLmF1ZC5maW5kKChhdWRpZW5jZSkgPT4gYXVkaWVuY2UgPT09IHRoaXMuY2xpZW50SWQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYXVkaWVuY2UgaW4gSUQgdG9rZW4nKTtcbiAgICB9XG5cbiAgICAvLyBTdGVwIDMgOiBlbnN1cmUgdGhlIHRpbWVzdGFtcCBoYXMgbm90IGVsYXBzZWRcbiAgICBpZiAoaWRfdG9rZW5fcGF5bG9hZC5leHAgPCBEYXRlLm5vdygpIC8gMTAwMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJRCB0b2tlbiBoYXMgZXhwaXJlZCcpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICB1cmw6IE9BdXRoQ2xpZW50Lmp3a3NfdXJpLFxuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgQWNjZXB0OiBBdXRoUmVzcG9uc2UuX2pzb25Db250ZW50VHlwZSxcbiAgICAgICAgJ1VzZXItQWdlbnQnOiBPQXV0aENsaWVudC51c2VyX2FnZW50LFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIHJlc29sdmUodGhpcy5nZXRLZXlGcm9tSldLc1VSSShpZF90b2tlbiwgaWRfdG9rZW5faGVhZGVyLmtpZCwgcmVxdWVzdCkpO1xuICB9KVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIHRoaXMubG9nKCdpbmZvJywgJ1RoZSB2YWxpZGF0ZUlkVG9rZW4gKCkgcmVzcG9uc2UgaXMgOicsIHNhZmVTdHJpbmdpZnkocmVzKSk7XG4gICAgICBpZiAocmVzKSByZXR1cm4gdHJ1ZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgdGhpcy5sb2coJ2Vycm9yJywgJ1RoZSB2YWxpZGF0ZUlkVG9rZW4gKCkgdGhyZXcgYW4gZXhjZXB0aW9uIDogJywgc2FmZVN0cmluZ2lmeShlKSk7XG4gICAgICB0aHJvdyBlO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBHZXQgS2V5IGZyb20gSldLVVJJXG4gKiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaWRfdG9rZW5cbiAqIEBwYXJhbSB7c3RyaW5nfSBraWRcbiAqIEBwYXJhbSB7T2JqZWN0fSByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAqL1xuT0F1dGhDbGllbnQucHJvdG90eXBlLmdldEtleUZyb21KV0tzVVJJID0gZnVuY3Rpb24gZ2V0S2V5RnJvbUpXS3NVUkkoaWRfdG9rZW4sIGtpZCwgcmVxdWVzdCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICByZXNvbHZlKHRoaXMubG9hZFJlc3BvbnNlKHJlcXVlc3QpKTtcbiAgfSlcbiAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGlmIChOdW1iZXIocmVzcG9uc2Uuc3RhdHVzKSAhPT0gMjAwKSB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCByZWFjaCBKV0sgZW5kcG9pbnQnKTtcbiAgICAgIC8vIEZpbmQgdGhlIGtleSBieSBLSURcbiAgICAgIGNvbnN0IGtleSA9IHJlc3BvbnNlLmRhdGEua2V5cy5maW5kKChlbCkgPT4gZWwua2lkID09PSBraWQpO1xuICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBLZXkgd2l0aCBraWQgXCIke2tpZH1cIiBub3QgZm91bmQgaW4gSldLU2ApO1xuICAgICAgfVxuICAgICAgY29uc3QgY2VydCA9IHRoaXMuZ2V0UHVibGljS2V5KGtleS5uLCBrZXkuZSk7XG5cbiAgICAgIHJldHVybiBqd3QudmVyaWZ5KGlkX3Rva2VuLCBjZXJ0KTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgZSA9IHRoaXMuY3JlYXRlRXJyb3IoZSk7XG4gICAgICB0aGlzLmxvZyhcbiAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgJ1RoZSBnZXRLZXlGcm9tSldLc1VSSSAoKSB0aHJldyBhbiBleGNlcHRpb24gOiAnLFxuICAgICAgICBzYWZlU3RyaW5naWZ5KGUpLFxuICAgICAgKTtcbiAgICAgIHRocm93IGU7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIEdldCBQdWJsaWMgS2V5XG4gKiAqXG4gKiBAcGFyYW0gbW9kdWx1c1xuICogQHBhcmFtIGV4cG9uZW50XG4gKi9cbk9BdXRoQ2xpZW50LnByb3RvdHlwZS5nZXRQdWJsaWNLZXkgPSBmdW5jdGlvbiBnZXRQdWJsaWNLZXkobW9kdWx1cywgZXhwb25lbnQpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGdsb2JhbC1yZXF1aXJlXG4gIGNvbnN0IGdldFBlbSA9IHJlcXVpcmUoJ3JzYS1wZW0tZnJvbS1tb2QtZXhwJyk7XG4gIGNvbnN0IHBlbSA9IGdldFBlbShtb2R1bHVzLCBleHBvbmVudCk7XG4gIHJldHVybiBwZW07XG59O1xuXG4vKipcbiAqIEdldCBUb2tlbiBSZXF1ZXN0XG4gKiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcmVxdWVzdFxuICogQHJldHVybnMge1Byb21pc2V9XG4gKi9cbk9BdXRoQ2xpZW50LnByb3RvdHlwZS5nZXRUb2tlblJlcXVlc3QgPSBmdW5jdGlvbiBnZXRUb2tlblJlcXVlc3QocmVxdWVzdCkge1xuICBjb25zdCBhdXRoUmVzcG9uc2UgPSBuZXcgQXV0aFJlc3BvbnNlKHtcbiAgICB0b2tlbjogdGhpcy50b2tlbixcbiAgfSk7XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgcmVzb2x2ZSh0aGlzLmxvYWRSZXNwb25zZShyZXF1ZXN0KSk7XG4gIH0pXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICB0aGlzLnZhbGlkYXRlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgYXV0aFJlc3BvbnNlLnByb2Nlc3NSZXNwb25zZShyZXNwb25zZSk7XG5cbiAgICAgIGlmICghYXV0aFJlc3BvbnNlLnZhbGlkKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9BdXRoRXJyb3IoXG4gICAgICAgICAgJ1Jlc3BvbnNlIGhhcyBhbiBFcnJvcicsXG4gICAgICAgICAgcmVzcG9uc2Uuc3RhdHVzLnRvU3RyaW5nKCksXG4gICAgICAgICAgcmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgICAgICByZXNwb25zZS5oZWFkZXJzICYmIHJlc3BvbnNlLmhlYWRlcnMuaW50dWl0X3RpZCxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGF1dGhSZXNwb25zZTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgLy8gSWYgYXhpb3MgZXJyb3IgaGFzIHJlc3BvbnNlIGRhdGEsIHBvcHVsYXRlIGF1dGhSZXNwb25zZSB3aXRoIGl0XG4gICAgICBpZiAoZS5yZXNwb25zZSAmJiBlLnJlc3BvbnNlLmRhdGEpIHtcbiAgICAgICAgYXV0aFJlc3BvbnNlLnByb2Nlc3NSZXNwb25zZShlLnJlc3BvbnNlKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKCFlLmF1dGhSZXNwb25zZSkge1xuICAgICAgICBlID0gdGhpcy5jcmVhdGVFcnJvcihlLCBhdXRoUmVzcG9uc2UpO1xuICAgICAgfVxuICAgICAgdGhyb3cgZTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogVmFsaWRhdGUgVG9rZW4geyB2YWxpZGF0ZXMgaWYgdG9rZW4gb2JqZWN0IGhhcyByZWZyZXNoIHRva2VuIH1cbiAqICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5PQXV0aENsaWVudC5wcm90b3R5cGUudmFsaWRhdGVUb2tlbiA9IGZ1bmN0aW9uIHZhbGlkYXRlVG9rZW4oKSB7XG4gIGlmICghdGhpcy50b2tlbi5yZWZyZXNoVG9rZW4oKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignVGhlIFJlZnJlc2ggdG9rZW4gaXMgbWlzc2luZycpO1xuICB9XG5cbiAgaWYgKCF0aGlzLnRva2VuLmlzUmVmcmVzaFRva2VuVmFsaWQoKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignVGhlIFJlZnJlc2ggdG9rZW4gaXMgaW52YWxpZCwgcGxlYXNlIEF1dGhvcml6ZSBhZ2Fpbi4nKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLy8gQWRkIHJldHJ5IGNvbmZpZ3VyYXRpb25cbk9BdXRoQ2xpZW50LnJldHJ5Q29uZmlnID0ge1xuICBtYXhSZXRyaWVzOiAzLFxuICByZXRyeURlbGF5OiAxMDAwLCAvLyAxIHNlY29uZFxuICByZXRyeWFibGVTdGF0dXNDb2RlczogWzQwOCwgNDI5LCA1MDAsIDUwMiwgNTAzLCA1MDRdLFxuICByZXRyeWFibGVFcnJvcnM6IFsnRUNPTk5SRVNFVCcsICdFVElNRURPVVQnLCAnRUNPTk5SRUZVU0VEJ10sXG59O1xuXG5PQXV0aENsaWVudC5wcm90b3R5cGUuc2hvdWxkUmV0cnkgPSBmdW5jdGlvbiBzaG91bGRSZXRyeShlcnJvciwgYXR0ZW1wdCkge1xuICBpZiAoYXR0ZW1wdCA+PSBPQXV0aENsaWVudC5yZXRyeUNvbmZpZy5tYXhSZXRyaWVzKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gQ2hlY2sgaWYgaXQncyBhIHJldHJ5YWJsZSBzdGF0dXMgY29kZVxuICBpZiAoZXJyb3IucmVzcG9uc2UgJiYgT0F1dGhDbGllbnQucmV0cnlDb25maWcucmV0cnlhYmxlU3RhdHVzQ29kZXMuaW5jbHVkZXMoZXJyb3IucmVzcG9uc2Uuc3RhdHVzKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gQ2hlY2sgaWYgaXQncyBhIHJldHJ5YWJsZSBuZXR3b3JrIGVycm9yXG4gIGlmIChlcnJvci5jb2RlICYmIE9BdXRoQ2xpZW50LnJldHJ5Q29uZmlnLnJldHJ5YWJsZUVycm9ycy5pbmNsdWRlcyhlcnJvci5jb2RlKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBNYWtlIEhUVFAgUmVxdWVzdCB1c2luZyBBeGlvcyBDbGllbnRcbiAqIEBwYXJhbSByZXF1ZXN0XG4gKiBAcmV0dXJucyByZXNwb25zZVxuICovXG5PQXV0aENsaWVudC5wcm90b3R5cGUubG9hZFJlc3BvbnNlID0gZnVuY3Rpb24gbG9hZFJlc3BvbnNlKHJlcXVlc3QpIHtcbiAgdGhpcy5jdXJyZW50UmVxdWVzdCA9IHJlcXVlc3Q7XG4gIGxldCBhdHRlbXB0ID0gMDtcblxuICBjb25zdCBleGVjdXRlUmVxdWVzdCA9ICgpID0+IGF4aW9zKHJlcXVlc3QpXG4gICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgdGhpcy5jdXJyZW50UmVxdWVzdCA9IG51bGw7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIHRoaXMuY3VycmVudFJlcXVlc3QgPSBudWxsO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuc2hvdWxkUmV0cnkoZXJyb3IsIGF0dGVtcHQpKSB7XG4gICAgICAgICAgYXR0ZW1wdCArPSAxO1xuICAgICAgICAgIGNvbnN0IGRlbGF5ID0gT0F1dGhDbGllbnQucmV0cnlDb25maWcucmV0cnlEZWxheSAqICgyICoqIChhdHRlbXB0IC0gMSkpO1xuICAgICAgICAgIFxuICAgICAgICAgIHRoaXMubG9nKCd3YXJuJywgYFJldHJ5aW5nIHJlcXVlc3QgKGF0dGVtcHQgJHthdHRlbXB0fS8ke09BdXRoQ2xpZW50LnJldHJ5Q29uZmlnLm1heFJldHJpZXN9KWAsIHtcbiAgICAgICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgZGVsYXksXG4gICAgICAgICAgICB1cmw6IHJlcXVlc3QudXJsLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgcmVzb2x2ZShleGVjdXRlUmVxdWVzdCgpKTtcbiAgICAgICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfSk7XG5cbiAgcmV0dXJuIGV4ZWN1dGVSZXF1ZXN0KCk7XG59O1xuXG4vKipcbiAqIExvYWQgcmVzcG9uc2UgZnJvbSBKV0sgVVJJXG4gKiBAcGFyYW0gcmVxdWVzdFxuICogQHJldHVybnMgcmVzcG9uc2VcbiAqL1xuT0F1dGhDbGllbnQucHJvdG90eXBlLmxvYWRSZXNwb25zZUZyb21KV0tzVVJJID0gZnVuY3Rpb24gbG9hZFJlc3BvbnNlRnJvbUpXS3NVUkkocmVxdWVzdCkge1xuICByZXR1cm4gYXhpb3MuZ2V0KHJlcXVlc3QpLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBFcnJvciBXcmFwcGVyXG4gKiBAcGFyYW0ge0Vycm9yfHN0cmluZ30gZXJyb3IgLSBFcnJvciBvYmplY3Qgb3IgZXJyb3IgbWVzc2FnZVxuICogQHBhcmFtIHtBdXRoUmVzcG9uc2V9IGF1dGhSZXNwb25zZSAtIEF1dGhSZXNwb25zZSBvYmplY3RcbiAqIEByZXR1cm5zIHtFcnJvcn0gZXJyb3JcbiAqL1xuT0F1dGhDbGllbnQucHJvdG90eXBlLmNyZWF0ZUVycm9yID0gZnVuY3Rpb24gY3JlYXRlRXJyb3IoZXJyb3IsIGF1dGhSZXNwb25zZSkge1xuICBpZiAoIWVycm9yKSB7XG4gICAgcmV0dXJuIG5ldyBFcnJvcignJyk7XG4gIH1cblxuICBjb25zdCB3cmFwcGVkRXJyb3IgPSBuZXcgRXJyb3IoKTtcbiAgd3JhcHBlZEVycm9yLmVycm9yID0gJyc7XG4gIHdyYXBwZWRFcnJvci5hdXRoUmVzcG9uc2UgPSBhdXRoUmVzcG9uc2UgfHwgJyc7XG4gIHdyYXBwZWRFcnJvci5pbnR1aXRfdGlkID0gKGF1dGhSZXNwb25zZSAmJiBhdXRoUmVzcG9uc2UuZ2V0SW50dWl0VGlkKCkpIHx8ICcnO1xuICB3cmFwcGVkRXJyb3Iub3JpZ2luYWxNZXNzYWdlID0gZXJyb3IubWVzc2FnZSB8fCAnJztcbiAgd3JhcHBlZEVycm9yLmVycm9yX2Rlc2NyaXB0aW9uID0gJyc7XG5cbiAgaWYgKGF1dGhSZXNwb25zZSkge1xuICAgIGlmIChhdXRoUmVzcG9uc2UuYm9keSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYm9keSA9IHR5cGVvZiBhdXRoUmVzcG9uc2UuYm9keSA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKGF1dGhSZXNwb25zZS5ib2R5KSA6IGF1dGhSZXNwb25zZS5ib2R5O1xuICAgICAgICBpZiAoYm9keS5lcnJvcikge1xuICAgICAgICAgIHdyYXBwZWRFcnJvci5lcnJvciA9IGJvZHkuZXJyb3I7XG4gICAgICAgICAgd3JhcHBlZEVycm9yLmVycm9yX2Rlc2NyaXB0aW9uID0gYm9keS5lcnJvcl9kZXNjcmlwdGlvbiB8fCAnJztcbiAgICAgICAgICB3cmFwcGVkRXJyb3IubWVzc2FnZSA9IGJvZHkuZXJyb3I7XG4gICAgICAgICAgcmV0dXJuIHdyYXBwZWRFcnJvcjtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBJZiBwYXJzaW5nIGZhaWxzLCB1c2UgdGhlIG9yaWdpbmFsIGJvZHlcbiAgICAgICAgd3JhcHBlZEVycm9yLmVycm9yID0gYXV0aFJlc3BvbnNlLmJvZHk7XG4gICAgICAgIHdyYXBwZWRFcnJvci5lcnJvcl9kZXNjcmlwdGlvbiA9IGF1dGhSZXNwb25zZS5ib2R5O1xuICAgICAgICB3cmFwcGVkRXJyb3IubWVzc2FnZSA9IGF1dGhSZXNwb25zZS5ib2R5O1xuICAgICAgICByZXR1cm4gd3JhcHBlZEVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBpZiAoYXV0aFJlc3BvbnNlLnJlc3BvbnNlICYmIGF1dGhSZXNwb25zZS5yZXNwb25zZS5zdGF0dXNUZXh0KSB7XG4gICAgICB3cmFwcGVkRXJyb3IuZXJyb3IgPSBhdXRoUmVzcG9uc2UucmVzcG9uc2Uuc3RhdHVzVGV4dDtcbiAgICAgIHdyYXBwZWRFcnJvci5lcnJvcl9kZXNjcmlwdGlvbiA9IGF1dGhSZXNwb25zZS5yZXNwb25zZS5zdGF0dXNUZXh0O1xuICAgICAgd3JhcHBlZEVycm9yLm1lc3NhZ2UgPSBhdXRoUmVzcG9uc2UucmVzcG9uc2Uuc3RhdHVzVGV4dDtcbiAgICAgIHJldHVybiB3cmFwcGVkRXJyb3I7XG4gICAgfVxuICB9XG5cbiAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICB3cmFwcGVkRXJyb3IuZXJyb3IgPSBlcnJvci5tZXNzYWdlO1xuICAgIHdyYXBwZWRFcnJvci5tZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgd3JhcHBlZEVycm9yLmVycm9yID0gZXJyb3I7XG4gICAgd3JhcHBlZEVycm9yLm1lc3NhZ2UgPSBlcnJvcjtcbiAgfSBlbHNlIHtcbiAgICB3cmFwcGVkRXJyb3IuZXJyb3IgPSBlcnJvci50b1N0cmluZygpO1xuICAgIHdyYXBwZWRFcnJvci5tZXNzYWdlID0gZXJyb3IudG9TdHJpbmcoKTtcbiAgfVxuXG4gIHJldHVybiB3cmFwcGVkRXJyb3I7XG59O1xuXG4vKipcbiAqIGlzQWNjZXNzVG9rZW4gVmFsaWQgKCkgeyBUVEwgb2YgYWNjZXNzX3Rva2VuIH1cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICogQHByaXZhdGVcbiAqL1xuT0F1dGhDbGllbnQucHJvdG90eXBlLmlzQWNjZXNzVG9rZW5WYWxpZCA9IGZ1bmN0aW9uIGlzQWNjZXNzVG9rZW5WYWxpZCgpIHtcbiAgcmV0dXJuIHRoaXMudG9rZW4uaXNBY2Nlc3NUb2tlblZhbGlkKCk7XG59O1xuXG4vKipcbiAqIEdldFRva2VuXG4gKiBAcmV0dXJucyB7VG9rZW59XG4gKi9cbk9BdXRoQ2xpZW50LnByb3RvdHlwZS5nZXRUb2tlbiA9IGZ1bmN0aW9uIGdldFRva2VuKCkge1xuICByZXR1cm4gdGhpcy50b2tlbjtcbn07XG5cbi8qKlxuICogU2V0IFRva2VuXG4gKiBAcGFyYW0ge09iamVjdH1cbiAqIEByZXR1cm5zIHtUb2tlbn1cbiAqL1xuT0F1dGhDbGllbnQucHJvdG90eXBlLnNldFRva2VuID0gZnVuY3Rpb24gc2V0VG9rZW4ocGFyYW1zKSB7XG4gIHRoaXMudG9rZW4gPSBuZXcgVG9rZW4ocGFyYW1zKTtcbiAgcmV0dXJuIHRoaXMudG9rZW47XG59O1xuXG4vKipcbiAqIEdldCBBdXRoSGVhZGVyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBhdXRoSGVhZGVyXG4gKi9cbk9BdXRoQ2xpZW50LnByb3RvdHlwZS5hdXRoSGVhZGVyID0gZnVuY3Rpb24gYXV0aEhlYWRlcigpIHtcbiAgY29uc3QgYXBpS2V5ID0gYCR7dGhpcy5jbGllbnRJZH06JHt0aGlzLmNsaWVudFNlY3JldH1gO1xuICByZXR1cm4gdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicgPyBidG9hKGFwaUtleSkgOiBCdWZmZXIuZnJvbShhcGlLZXkpLnRvU3RyaW5nKCdiYXNlNjQnKTtcbn07XG5cbi8qKlxuICogTG9nIHRoZSBtZXNzYWdlXG4gKiBAcGFyYW0ge3N0cmluZ30gbGV2ZWwgLSBMb2cgbGV2ZWxcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gTG9nIG1lc3NhZ2VcbiAqIEBwYXJhbSB7Kn0gZGF0YSAtIExvZyBkYXRhXG4gKi9cbk9BdXRoQ2xpZW50LnByb3RvdHlwZS5sb2cgPSBmdW5jdGlvbiBsb2cobGV2ZWwsIG1lc3NhZ2UsIGRhdGEpIHtcbiAgaWYgKCF0aGlzLmxvZ2dlcikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICB0aGlzLmxvZ2dlci5sb2cobGV2ZWwsIG1lc3NhZ2UgKyBkYXRhKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBsb2dEYXRhID0ge1xuICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIGxldmVsLFxuICAgIG1lc3NhZ2UsXG4gICAgZW52aXJvbm1lbnQ6IHRoaXMuZW52aXJvbm1lbnQsXG4gICAgY2xpZW50SWQ6IHRoaXMuY2xpZW50SWQsXG4gIH07XG5cbiAgLy8gQWRkIHNhZmUgcmVxdWVzdCBjb250ZXh0IGlmIGF2YWlsYWJsZVxuICBpZiAodGhpcy5jdXJyZW50UmVxdWVzdCkge1xuICAgIGxvZ0RhdGEucmVxdWVzdCA9IHtcbiAgICAgIHVybDogdGhpcy5jdXJyZW50UmVxdWVzdC51cmwsXG4gICAgICBtZXRob2Q6IHRoaXMuY3VycmVudFJlcXVlc3QubWV0aG9kLFxuICAgICAgaGVhZGVyczogeyAuLi50aGlzLmN1cnJlbnRSZXF1ZXN0LmhlYWRlcnMgfSxcbiAgICB9O1xuICB9XG5cbiAgLy8gQWRkIHNhZmUgZGF0YSBjb250ZXh0XG4gIGlmIChkYXRhKSB7XG4gICAgdHJ5IHtcbiAgICAgIGxvZ0RhdGEuZGF0YSA9IEpTT04ucGFyc2Uoc2FmZVN0cmluZ2lmeShkYXRhKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbG9nRGF0YS5kYXRhID0gU3RyaW5nKGRhdGEpO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMubG9nZ2VyLmxvZyhsZXZlbCwgc2FmZVN0cmluZ2lmeShsb2dEYXRhKSk7XG59O1xuXG5PQXV0aENsaWVudC5wcm90b3R5cGUudmFsaWRhdGVSZXNwb25zZSA9IGZ1bmN0aW9uIHZhbGlkYXRlUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgaWYgKCFyZXNwb25zZSkge1xuICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoJ0VtcHR5IHJlc3BvbnNlIHJlY2VpdmVkJyk7XG4gIH1cblxuICBpZiAoIXJlc3BvbnNlLnN0YXR1cykge1xuICAgIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoJ1Jlc3BvbnNlIG1pc3Npbmcgc3RhdHVzIGNvZGUnKTtcbiAgfVxuXG4gIGNvbnN0IGludHVpdFRpZCA9IHJlc3BvbnNlLmhlYWRlcnMgJiYgcmVzcG9uc2UuaGVhZGVycy5pbnR1aXRfdGlkO1xuXG4gIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQyOSkge1xuICAgIHRocm93IG5ldyBPQXV0aEVycm9yKFxuICAgICAgJ1JhdGUgbGltaXQgZXhjZWVkZWQnLFxuICAgICAgJ1JBVEVfTElNSVRfRVhDRUVERUQnLFxuICAgICAgJ1RvbyBtYW55IHJlcXVlc3RzLCBwbGVhc2UgdHJ5IGFnYWluIGxhdGVyJyxcbiAgICAgIGludHVpdFRpZCxcbiAgICApO1xuICB9XG5cbiAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7XG4gICAgdGhyb3cgbmV3IFRva2VuRXJyb3IoXG4gICAgICAnVW5hdXRob3JpemVkJyxcbiAgICAgICdVTkFVVEhPUklaRUQnLFxuICAgICAgJ0ludmFsaWQgb3IgZXhwaXJlZCBhY2Nlc3MgdG9rZW4nLFxuICAgICAgaW50dWl0VGlkLFxuICAgICk7XG4gIH1cblxuICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDMpIHtcbiAgICB0aHJvdyBuZXcgT0F1dGhFcnJvcihcbiAgICAgICdGb3JiaWRkZW4nLFxuICAgICAgJ0ZPUkJJRERFTicsXG4gICAgICAnSW5zdWZmaWNpZW50IHBlcm1pc3Npb25zJyxcbiAgICAgIGludHVpdFRpZCxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9BdXRoQ2xpZW50O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/intuit-oauth/src/OAuthClient.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/intuit-oauth/src/access-token/Token.js":
/*!*************************************************************!*\
  !*** ./node_modules/intuit-oauth/src/access-token/Token.js ***!
  \*************************************************************/
/***/ ((module) => {

eval("/**\n\n Copyright (c) 2018 Intuit\n #\n # Licensed under the Apache License, Version 2.0 (the \"License\");\n # you may not use this file except in compliance with the License.\n # You may obtain a copy of the License at\n #\n #  http://www.apache.org/licenses/LICENSE-2.0\n #\n # Unless required by applicable law or agreed to in writing, software\n # distributed under the License is distributed on an \"AS IS\" BASIS,\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n\n */\n\n/**\n * @namespace Token\n */\n\n\n\n/**\n * @param {Cache} options.cache\n * @param {string} options.cacheId\n * @constructor\n * @property {Cache} _cache\n * @property {string} _cacheId\n */\nfunction Token(params) {\n  params = params || {};\n\n  this.realmId = params.realmId || '';\n  this.token_type = params.token_type || '';\n  this.access_token = params.access_token || '';\n  this.refresh_token = params.refresh_token || '';\n  this.expires_in = params.expires_in || 0;\n  this.x_refresh_token_expires_in = params.x_refresh_token_expires_in || 0;\n  this.id_token = params.id_token || '';\n  this.latency = params.latency || 60 * 1000;\n  this.createdAt = params.createdAt || Date.now();\n}\n\n/**\n * get accessToken()\n * @returns {string} access_token\n */\nToken.prototype.accessToken = function accessToken() {\n  return this.getToken().access_token;\n};\n\n/**\n * get refreshToken()\n * @returns {string} refresh_token\n */\nToken.prototype.refreshToken = function refreshToken() {\n  return this.getToken().refresh_token;\n};\n\n/**\n * get tokenType()\n * @returns {string} token_type\n */\nToken.prototype.tokenType = function tokenType() {\n  return this.getToken().token_type;\n};\n\n\n/**\n * Helper Method to get accessToken { get Token Object }\n * @returns {{\n *  token_type: *,\n *  access_token: *,\n *  expires_in: *,\n *  refresh_token: *,\n *  x_refresh_token_expires_in: *\n * }}\n */\nToken.prototype.getToken = function getToken() {\n  return {\n    token_type: this.token_type,\n    access_token: this.access_token,\n    expires_in: this.expires_in,\n    refresh_token: this.refresh_token,\n    x_refresh_token_expires_in: this.x_refresh_token_expires_in,\n    realmId: this.realmId,\n    id_token: this.id_token,\n    createdAt: this.createdAt,\n  };\n};\n\n/**\n * Helper Method to set accessToken { set Token Object }\n * @param tokenData\n * @returns {Token}\n */\nToken.prototype.setToken = function setToken(tokenData) {\n  this.access_token = tokenData.access_token;\n  this.refresh_token = tokenData.refresh_token;\n  this.token_type = tokenData.token_type;\n  this.expires_in = tokenData.expires_in;\n  this.x_refresh_token_expires_in = tokenData.x_refresh_token_expires_in;\n  this.id_token = tokenData.id_token || '';\n  this.createdAt = tokenData.createdAt || Date.now();\n  return this;\n};\n\n/**\n * Helper Method to clear accessToken { clear Token Object }\n * @param\n * @returns {Token}\n */\nToken.prototype.clearToken = function clearToken() {\n  this.access_token = '';\n  this.refresh_token = '';\n  this.token_type = '';\n  this.expires_in = 0;\n  this.x_refresh_token_expires_in = 0;\n  this.id_token = '';\n  this.createdAt = 0;\n  return this;\n};\n\n/**\n * Helper Method to check token expiry { set Token Object }\n * @param seconds\n * @returns {boolean}\n */\nToken.prototype._checkExpiry = function _checkExpiry(seconds) {\n  const expiry = this.createdAt + (seconds * 1000);\n  return (expiry - this.latency > Date.now());\n};\n\n/**\n * Check if access_token is valid\n * @returns {boolean}\n */\nToken.prototype.isAccessTokenValid = function isAccessTokenValid() {\n  return this._checkExpiry(this.expires_in);\n};\n\n/**\n * Check if there is a valid (not expired) access token\n * @return {boolean}\n */\nToken.prototype.isRefreshTokenValid = function isRefreshTokenValid() {\n  return this._checkExpiry(this.x_refresh_token_expires_in);\n};\n\nmodule.exports = Token;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvaW50dWl0LW9hdXRoL3NyYy9hY2Nlc3MtdG9rZW4vVG9rZW4uanMiLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVhOztBQUViO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsUUFBUTtBQUNuQjtBQUNBLGNBQWMsT0FBTztBQUNyQixjQUFjLFFBQVE7QUFDdEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NvcnRleGNhcnQtaW5zaWdodC1kYXNoYm9hcmQvLi9ub2RlX21vZHVsZXMvaW50dWl0LW9hdXRoL3NyYy9hY2Nlc3MtdG9rZW4vVG9rZW4uanM/ZTFjMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcblxuIENvcHlyaWdodCAoYykgMjAxOCBJbnR1aXRcbiAjXG4gIyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICMgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICMgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gI1xuICMgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICNcbiAjIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAjIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAjIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICMgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICMgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiAqL1xuXG4vKipcbiAqIEBuYW1lc3BhY2UgVG9rZW5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQHBhcmFtIHtDYWNoZX0gb3B0aW9ucy5jYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuY2FjaGVJZFxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJvcGVydHkge0NhY2hlfSBfY2FjaGVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBfY2FjaGVJZFxuICovXG5mdW5jdGlvbiBUb2tlbihwYXJhbXMpIHtcbiAgcGFyYW1zID0gcGFyYW1zIHx8IHt9O1xuXG4gIHRoaXMucmVhbG1JZCA9IHBhcmFtcy5yZWFsbUlkIHx8ICcnO1xuICB0aGlzLnRva2VuX3R5cGUgPSBwYXJhbXMudG9rZW5fdHlwZSB8fCAnJztcbiAgdGhpcy5hY2Nlc3NfdG9rZW4gPSBwYXJhbXMuYWNjZXNzX3Rva2VuIHx8ICcnO1xuICB0aGlzLnJlZnJlc2hfdG9rZW4gPSBwYXJhbXMucmVmcmVzaF90b2tlbiB8fCAnJztcbiAgdGhpcy5leHBpcmVzX2luID0gcGFyYW1zLmV4cGlyZXNfaW4gfHwgMDtcbiAgdGhpcy54X3JlZnJlc2hfdG9rZW5fZXhwaXJlc19pbiA9IHBhcmFtcy54X3JlZnJlc2hfdG9rZW5fZXhwaXJlc19pbiB8fCAwO1xuICB0aGlzLmlkX3Rva2VuID0gcGFyYW1zLmlkX3Rva2VuIHx8ICcnO1xuICB0aGlzLmxhdGVuY3kgPSBwYXJhbXMubGF0ZW5jeSB8fCA2MCAqIDEwMDA7XG4gIHRoaXMuY3JlYXRlZEF0ID0gcGFyYW1zLmNyZWF0ZWRBdCB8fCBEYXRlLm5vdygpO1xufVxuXG4vKipcbiAqIGdldCBhY2Nlc3NUb2tlbigpXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBhY2Nlc3NfdG9rZW5cbiAqL1xuVG9rZW4ucHJvdG90eXBlLmFjY2Vzc1Rva2VuID0gZnVuY3Rpb24gYWNjZXNzVG9rZW4oKSB7XG4gIHJldHVybiB0aGlzLmdldFRva2VuKCkuYWNjZXNzX3Rva2VuO1xufTtcblxuLyoqXG4gKiBnZXQgcmVmcmVzaFRva2VuKClcbiAqIEByZXR1cm5zIHtzdHJpbmd9IHJlZnJlc2hfdG9rZW5cbiAqL1xuVG9rZW4ucHJvdG90eXBlLnJlZnJlc2hUb2tlbiA9IGZ1bmN0aW9uIHJlZnJlc2hUb2tlbigpIHtcbiAgcmV0dXJuIHRoaXMuZ2V0VG9rZW4oKS5yZWZyZXNoX3Rva2VuO1xufTtcblxuLyoqXG4gKiBnZXQgdG9rZW5UeXBlKClcbiAqIEByZXR1cm5zIHtzdHJpbmd9IHRva2VuX3R5cGVcbiAqL1xuVG9rZW4ucHJvdG90eXBlLnRva2VuVHlwZSA9IGZ1bmN0aW9uIHRva2VuVHlwZSgpIHtcbiAgcmV0dXJuIHRoaXMuZ2V0VG9rZW4oKS50b2tlbl90eXBlO1xufTtcblxuXG4vKipcbiAqIEhlbHBlciBNZXRob2QgdG8gZ2V0IGFjY2Vzc1Rva2VuIHsgZ2V0IFRva2VuIE9iamVjdCB9XG4gKiBAcmV0dXJucyB7e1xuICogIHRva2VuX3R5cGU6ICosXG4gKiAgYWNjZXNzX3Rva2VuOiAqLFxuICogIGV4cGlyZXNfaW46ICosXG4gKiAgcmVmcmVzaF90b2tlbjogKixcbiAqICB4X3JlZnJlc2hfdG9rZW5fZXhwaXJlc19pbjogKlxuICogfX1cbiAqL1xuVG9rZW4ucHJvdG90eXBlLmdldFRva2VuID0gZnVuY3Rpb24gZ2V0VG9rZW4oKSB7XG4gIHJldHVybiB7XG4gICAgdG9rZW5fdHlwZTogdGhpcy50b2tlbl90eXBlLFxuICAgIGFjY2Vzc190b2tlbjogdGhpcy5hY2Nlc3NfdG9rZW4sXG4gICAgZXhwaXJlc19pbjogdGhpcy5leHBpcmVzX2luLFxuICAgIHJlZnJlc2hfdG9rZW46IHRoaXMucmVmcmVzaF90b2tlbixcbiAgICB4X3JlZnJlc2hfdG9rZW5fZXhwaXJlc19pbjogdGhpcy54X3JlZnJlc2hfdG9rZW5fZXhwaXJlc19pbixcbiAgICByZWFsbUlkOiB0aGlzLnJlYWxtSWQsXG4gICAgaWRfdG9rZW46IHRoaXMuaWRfdG9rZW4sXG4gICAgY3JlYXRlZEF0OiB0aGlzLmNyZWF0ZWRBdCxcbiAgfTtcbn07XG5cbi8qKlxuICogSGVscGVyIE1ldGhvZCB0byBzZXQgYWNjZXNzVG9rZW4geyBzZXQgVG9rZW4gT2JqZWN0IH1cbiAqIEBwYXJhbSB0b2tlbkRhdGFcbiAqIEByZXR1cm5zIHtUb2tlbn1cbiAqL1xuVG9rZW4ucHJvdG90eXBlLnNldFRva2VuID0gZnVuY3Rpb24gc2V0VG9rZW4odG9rZW5EYXRhKSB7XG4gIHRoaXMuYWNjZXNzX3Rva2VuID0gdG9rZW5EYXRhLmFjY2Vzc190b2tlbjtcbiAgdGhpcy5yZWZyZXNoX3Rva2VuID0gdG9rZW5EYXRhLnJlZnJlc2hfdG9rZW47XG4gIHRoaXMudG9rZW5fdHlwZSA9IHRva2VuRGF0YS50b2tlbl90eXBlO1xuICB0aGlzLmV4cGlyZXNfaW4gPSB0b2tlbkRhdGEuZXhwaXJlc19pbjtcbiAgdGhpcy54X3JlZnJlc2hfdG9rZW5fZXhwaXJlc19pbiA9IHRva2VuRGF0YS54X3JlZnJlc2hfdG9rZW5fZXhwaXJlc19pbjtcbiAgdGhpcy5pZF90b2tlbiA9IHRva2VuRGF0YS5pZF90b2tlbiB8fCAnJztcbiAgdGhpcy5jcmVhdGVkQXQgPSB0b2tlbkRhdGEuY3JlYXRlZEF0IHx8IERhdGUubm93KCk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBIZWxwZXIgTWV0aG9kIHRvIGNsZWFyIGFjY2Vzc1Rva2VuIHsgY2xlYXIgVG9rZW4gT2JqZWN0IH1cbiAqIEBwYXJhbVxuICogQHJldHVybnMge1Rva2VufVxuICovXG5Ub2tlbi5wcm90b3R5cGUuY2xlYXJUb2tlbiA9IGZ1bmN0aW9uIGNsZWFyVG9rZW4oKSB7XG4gIHRoaXMuYWNjZXNzX3Rva2VuID0gJyc7XG4gIHRoaXMucmVmcmVzaF90b2tlbiA9ICcnO1xuICB0aGlzLnRva2VuX3R5cGUgPSAnJztcbiAgdGhpcy5leHBpcmVzX2luID0gMDtcbiAgdGhpcy54X3JlZnJlc2hfdG9rZW5fZXhwaXJlc19pbiA9IDA7XG4gIHRoaXMuaWRfdG9rZW4gPSAnJztcbiAgdGhpcy5jcmVhdGVkQXQgPSAwO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogSGVscGVyIE1ldGhvZCB0byBjaGVjayB0b2tlbiBleHBpcnkgeyBzZXQgVG9rZW4gT2JqZWN0IH1cbiAqIEBwYXJhbSBzZWNvbmRzXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuVG9rZW4ucHJvdG90eXBlLl9jaGVja0V4cGlyeSA9IGZ1bmN0aW9uIF9jaGVja0V4cGlyeShzZWNvbmRzKSB7XG4gIGNvbnN0IGV4cGlyeSA9IHRoaXMuY3JlYXRlZEF0ICsgKHNlY29uZHMgKiAxMDAwKTtcbiAgcmV0dXJuIChleHBpcnkgLSB0aGlzLmxhdGVuY3kgPiBEYXRlLm5vdygpKTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgYWNjZXNzX3Rva2VuIGlzIHZhbGlkXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuVG9rZW4ucHJvdG90eXBlLmlzQWNjZXNzVG9rZW5WYWxpZCA9IGZ1bmN0aW9uIGlzQWNjZXNzVG9rZW5WYWxpZCgpIHtcbiAgcmV0dXJuIHRoaXMuX2NoZWNrRXhwaXJ5KHRoaXMuZXhwaXJlc19pbik7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIHRoZXJlIGlzIGEgdmFsaWQgKG5vdCBleHBpcmVkKSBhY2Nlc3MgdG9rZW5cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cblRva2VuLnByb3RvdHlwZS5pc1JlZnJlc2hUb2tlblZhbGlkID0gZnVuY3Rpb24gaXNSZWZyZXNoVG9rZW5WYWxpZCgpIHtcbiAgcmV0dXJuIHRoaXMuX2NoZWNrRXhwaXJ5KHRoaXMueF9yZWZyZXNoX3Rva2VuX2V4cGlyZXNfaW4pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBUb2tlbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/intuit-oauth/src/access-token/Token.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/intuit-oauth/src/errors/OAuthError.js":
/*!************************************************************!*\
  !*** ./node_modules/intuit-oauth/src/errors/OAuthError.js ***!
  \************************************************************/
/***/ ((module) => {

eval("\n\n/**\n * Base error class for OAuth related errors\n * @extends Error\n */\nclass OAuthError extends Error {\n  /**\n   * Create a new OAuthError\n   * @param {string} message - Error message\n   * @param {string} [code] - Error code\n   * @param {string} [description] - Error description\n   * @param {string} [intuitTid] - Intuit transaction ID\n   * @throws {TypeError} If message is not a string\n   */\n  constructor(message, code, description, intuitTid) {\n    if (typeof message !== 'string') {\n      throw new TypeError('Error message must be a string');\n    }\n\n    // Call parent constructor\n    super(message);\n\n    // Set error name\n    this.name = 'OAuthError';\n\n    // Set error properties\n    this.message = message;\n    this.description = description || message;\n    this.intuitTid = intuitTid || '';\n\n    // Set error code\n    if (typeof code === 'number' || (typeof code === 'string' && /^\\d{3}$/.test(code))) {\n      const statusCode = parseInt(code, 10);\n      switch (statusCode) {\n        case 400:\n          this.code = '400';\n          break;\n        case 401:\n          this.code = '401';\n          break;\n        case 403:\n          this.code = '403';\n          break;\n        case 404:\n          this.code = '404';\n          break;\n        case 429:\n          this.code = '429';\n          break;\n        case 500:\n          this.code = '500';\n          break;\n        case 502:\n        case 503:\n        case 504:\n          this.code = statusCode.toString();\n          break;\n        default:\n          this.code = code;\n      }\n    } else {\n      this.code = code || 'OAUTH_ERROR';\n    }\n\n    // Ensure proper prototype chain for instanceof checks\n    Object.setPrototypeOf(this, OAuthError.prototype);\n\n    // Capture stack trace\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, OAuthError);\n    }\n  }\n\n  /**\n   * Convert error to string representation\n   * @returns {string} String representation of the error\n   */\n  toString() {\n    let errorString = `${this.name}: ${this.message}`;\n    \n    if (this.code) {\n      errorString += ` (${this.code})`;\n    }\n    \n    if (this.description && this.description !== this.message) {\n      errorString += ` - ${this.description}`;\n    }\n    \n    if (this.intuitTid) {\n      errorString += ` [TID: ${this.intuitTid}]`;\n    }\n    \n    return errorString;\n  }\n\n  /**\n   * Convert error to JSON representation\n   * @returns {Object} JSON representation of the error\n   */\n  toJSON() {\n    return {\n      name: this.name,\n      message: this.message,\n      code: this.code,\n      description: this.description,\n      intuitTid: this.intuitTid,\n      stack: this.stack,\n    };\n  }\n}\n\nmodule.exports = OAuthError; //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvaW50dWl0LW9hdXRoL3NyYy9lcnJvcnMvT0F1dGhFcnJvci5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixjQUFjLFdBQVc7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzRUFBc0UsRUFBRTtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQSx5QkFBeUIsVUFBVSxJQUFJLGFBQWE7QUFDcEQ7QUFDQTtBQUNBLDBCQUEwQixVQUFVO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixpQkFBaUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGVBQWU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb3J0ZXhjYXJ0LWluc2lnaHQtZGFzaGJvYXJkLy4vbm9kZV9tb2R1bGVzL2ludHVpdC1vYXV0aC9zcmMvZXJyb3JzL09BdXRoRXJyb3IuanM/NDc0ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQmFzZSBlcnJvciBjbGFzcyBmb3IgT0F1dGggcmVsYXRlZCBlcnJvcnNcbiAqIEBleHRlbmRzIEVycm9yXG4gKi9cbmNsYXNzIE9BdXRoRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgT0F1dGhFcnJvclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIEVycm9yIG1lc3NhZ2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSAtIEVycm9yIGNvZGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkZXNjcmlwdGlvbl0gLSBFcnJvciBkZXNjcmlwdGlvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2ludHVpdFRpZF0gLSBJbnR1aXQgdHJhbnNhY3Rpb24gSURcbiAgICogQHRocm93cyB7VHlwZUVycm9yfSBJZiBtZXNzYWdlIGlzIG5vdCBhIHN0cmluZ1xuICAgKi9cbiAgY29uc3RydWN0b3IobWVzc2FnZSwgY29kZSwgZGVzY3JpcHRpb24sIGludHVpdFRpZCkge1xuICAgIGlmICh0eXBlb2YgbWVzc2FnZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Vycm9yIG1lc3NhZ2UgbXVzdCBiZSBhIHN0cmluZycpO1xuICAgIH1cblxuICAgIC8vIENhbGwgcGFyZW50IGNvbnN0cnVjdG9yXG4gICAgc3VwZXIobWVzc2FnZSk7XG5cbiAgICAvLyBTZXQgZXJyb3IgbmFtZVxuICAgIHRoaXMubmFtZSA9ICdPQXV0aEVycm9yJztcblxuICAgIC8vIFNldCBlcnJvciBwcm9wZXJ0aWVzXG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb24gfHwgbWVzc2FnZTtcbiAgICB0aGlzLmludHVpdFRpZCA9IGludHVpdFRpZCB8fCAnJztcblxuICAgIC8vIFNldCBlcnJvciBjb2RlXG4gICAgaWYgKHR5cGVvZiBjb2RlID09PSAnbnVtYmVyJyB8fCAodHlwZW9mIGNvZGUgPT09ICdzdHJpbmcnICYmIC9eXFxkezN9JC8udGVzdChjb2RlKSkpIHtcbiAgICAgIGNvbnN0IHN0YXR1c0NvZGUgPSBwYXJzZUludChjb2RlLCAxMCk7XG4gICAgICBzd2l0Y2ggKHN0YXR1c0NvZGUpIHtcbiAgICAgICAgY2FzZSA0MDA6XG4gICAgICAgICAgdGhpcy5jb2RlID0gJzQwMCc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDAxOlxuICAgICAgICAgIHRoaXMuY29kZSA9ICc0MDEnO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQwMzpcbiAgICAgICAgICB0aGlzLmNvZGUgPSAnNDAzJztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0MDQ6XG4gICAgICAgICAgdGhpcy5jb2RlID0gJzQwNCc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDI5OlxuICAgICAgICAgIHRoaXMuY29kZSA9ICc0MjknO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDUwMDpcbiAgICAgICAgICB0aGlzLmNvZGUgPSAnNTAwJztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1MDI6XG4gICAgICAgIGNhc2UgNTAzOlxuICAgICAgICBjYXNlIDUwNDpcbiAgICAgICAgICB0aGlzLmNvZGUgPSBzdGF0dXNDb2RlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jb2RlID0gY29kZSB8fCAnT0FVVEhfRVJST1InO1xuICAgIH1cblxuICAgIC8vIEVuc3VyZSBwcm9wZXIgcHJvdG90eXBlIGNoYWluIGZvciBpbnN0YW5jZW9mIGNoZWNrc1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBPQXV0aEVycm9yLnByb3RvdHlwZSk7XG5cbiAgICAvLyBDYXB0dXJlIHN0YWNrIHRyYWNlXG4gICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBPQXV0aEVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCBlcnJvciB0byBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICogQHJldHVybnMge3N0cmluZ30gU3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBlcnJvclxuICAgKi9cbiAgdG9TdHJpbmcoKSB7XG4gICAgbGV0IGVycm9yU3RyaW5nID0gYCR7dGhpcy5uYW1lfTogJHt0aGlzLm1lc3NhZ2V9YDtcbiAgICBcbiAgICBpZiAodGhpcy5jb2RlKSB7XG4gICAgICBlcnJvclN0cmluZyArPSBgICgke3RoaXMuY29kZX0pYDtcbiAgICB9XG4gICAgXG4gICAgaWYgKHRoaXMuZGVzY3JpcHRpb24gJiYgdGhpcy5kZXNjcmlwdGlvbiAhPT0gdGhpcy5tZXNzYWdlKSB7XG4gICAgICBlcnJvclN0cmluZyArPSBgIC0gJHt0aGlzLmRlc2NyaXB0aW9ufWA7XG4gICAgfVxuICAgIFxuICAgIGlmICh0aGlzLmludHVpdFRpZCkge1xuICAgICAgZXJyb3JTdHJpbmcgKz0gYCBbVElEOiAke3RoaXMuaW50dWl0VGlkfV1gO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gZXJyb3JTdHJpbmc7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydCBlcnJvciB0byBKU09OIHJlcHJlc2VudGF0aW9uXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIGVycm9yXG4gICAqL1xuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgIGNvZGU6IHRoaXMuY29kZSxcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLFxuICAgICAgaW50dWl0VGlkOiB0aGlzLmludHVpdFRpZCxcbiAgICAgIHN0YWNrOiB0aGlzLnN0YWNrLFxuICAgIH07XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBPQXV0aEVycm9yOyAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/intuit-oauth/src/errors/OAuthError.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/intuit-oauth/src/errors/TokenError.js":
/*!************************************************************!*\
  !*** ./node_modules/intuit-oauth/src/errors/TokenError.js ***!
  \************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nconst OAuthError = __webpack_require__(/*! ./OAuthError */ \"(rsc)/./node_modules/intuit-oauth/src/errors/OAuthError.js\");\n\n/**\n * Error class for token related errors\n * @extends OAuthError\n */\nclass TokenError extends OAuthError {\n  /**\n   * Create a new TokenError\n   * @param {string} message - Error message\n   * @param {string} [code] - Error code\n   * @param {string} [description] - Error description\n   * @param {string} [intuitTid] - Intuit transaction ID\n   */\n  constructor(message, code, description, intuitTid) {\n    super(message, code || 'TOKEN_ERROR', description || message, intuitTid);\n    this.name = 'TokenError';\n    Object.setPrototypeOf(this, TokenError.prototype);\n  }\n}\n\nmodule.exports = TokenError; //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvaW50dWl0LW9hdXRoL3NyYy9lcnJvcnMvVG9rZW5FcnJvci5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixtQkFBbUIsbUJBQU8sQ0FBQyxnRkFBYzs7QUFFekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb3J0ZXhjYXJ0LWluc2lnaHQtZGFzaGJvYXJkLy4vbm9kZV9tb2R1bGVzL2ludHVpdC1vYXV0aC9zcmMvZXJyb3JzL1Rva2VuRXJyb3IuanM/Y2M3MSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IE9BdXRoRXJyb3IgPSByZXF1aXJlKCcuL09BdXRoRXJyb3InKTtcblxuLyoqXG4gKiBFcnJvciBjbGFzcyBmb3IgdG9rZW4gcmVsYXRlZCBlcnJvcnNcbiAqIEBleHRlbmRzIE9BdXRoRXJyb3JcbiAqL1xuY2xhc3MgVG9rZW5FcnJvciBleHRlbmRzIE9BdXRoRXJyb3Ige1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IFRva2VuRXJyb3JcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBFcnJvciBtZXNzYWdlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gLSBFcnJvciBjb2RlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbZGVzY3JpcHRpb25dIC0gRXJyb3IgZGVzY3JpcHRpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IFtpbnR1aXRUaWRdIC0gSW50dWl0IHRyYW5zYWN0aW9uIElEXG4gICAqL1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBjb2RlLCBkZXNjcmlwdGlvbiwgaW50dWl0VGlkKSB7XG4gICAgc3VwZXIobWVzc2FnZSwgY29kZSB8fCAnVE9LRU5fRVJST1InLCBkZXNjcmlwdGlvbiB8fCBtZXNzYWdlLCBpbnR1aXRUaWQpO1xuICAgIHRoaXMubmFtZSA9ICdUb2tlbkVycm9yJztcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgVG9rZW5FcnJvci5wcm90b3R5cGUpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gVG9rZW5FcnJvcjsgIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/intuit-oauth/src/errors/TokenError.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/intuit-oauth/src/errors/ValidationError.js":
/*!*****************************************************************!*\
  !*** ./node_modules/intuit-oauth/src/errors/ValidationError.js ***!
  \*****************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nconst OAuthError = __webpack_require__(/*! ./OAuthError */ \"(rsc)/./node_modules/intuit-oauth/src/errors/OAuthError.js\");\n\n/**\n * Error class for validation related errors\n * @extends OAuthError\n */\nclass ValidationError extends OAuthError {\n  /**\n   * Create a new ValidationError\n   * @param {string} message - Error message\n   * @param {string} [code] - Error code\n   * @param {string} [description] - Error description\n   * @param {string} [intuitTid] - Intuit transaction ID\n   */\n  constructor(message, code, description, intuitTid) {\n    super(message, code || 'VALIDATION_ERROR', description || message, intuitTid);\n    this.name = 'ValidationError';\n    Object.setPrototypeOf(this, ValidationError.prototype);\n  }\n}\n\nmodule.exports = ValidationError; //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvaW50dWl0LW9hdXRoL3NyYy9lcnJvcnMvVmFsaWRhdGlvbkVycm9yLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLG1CQUFtQixtQkFBTyxDQUFDLGdGQUFjOztBQUV6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NvcnRleGNhcnQtaW5zaWdodC1kYXNoYm9hcmQvLi9ub2RlX21vZHVsZXMvaW50dWl0LW9hdXRoL3NyYy9lcnJvcnMvVmFsaWRhdGlvbkVycm9yLmpzPzEzMTIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBPQXV0aEVycm9yID0gcmVxdWlyZSgnLi9PQXV0aEVycm9yJyk7XG5cbi8qKlxuICogRXJyb3IgY2xhc3MgZm9yIHZhbGlkYXRpb24gcmVsYXRlZCBlcnJvcnNcbiAqIEBleHRlbmRzIE9BdXRoRXJyb3JcbiAqL1xuY2xhc3MgVmFsaWRhdGlvbkVycm9yIGV4dGVuZHMgT0F1dGhFcnJvciB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgVmFsaWRhdGlvbkVycm9yXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gRXJyb3IgbWVzc2FnZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2NvZGVdIC0gRXJyb3IgY29kZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2Rlc2NyaXB0aW9uXSAtIEVycm9yIGRlc2NyaXB0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbaW50dWl0VGlkXSAtIEludHVpdCB0cmFuc2FjdGlvbiBJRFxuICAgKi9cbiAgY29uc3RydWN0b3IobWVzc2FnZSwgY29kZSwgZGVzY3JpcHRpb24sIGludHVpdFRpZCkge1xuICAgIHN1cGVyKG1lc3NhZ2UsIGNvZGUgfHwgJ1ZBTElEQVRJT05fRVJST1InLCBkZXNjcmlwdGlvbiB8fCBtZXNzYWdlLCBpbnR1aXRUaWQpO1xuICAgIHRoaXMubmFtZSA9ICdWYWxpZGF0aW9uRXJyb3InO1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBWYWxpZGF0aW9uRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFZhbGlkYXRpb25FcnJvcjsgIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/intuit-oauth/src/errors/ValidationError.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/intuit-oauth/src/response/AuthResponse.js":
/*!****************************************************************!*\
  !*** ./node_modules/intuit-oauth/src/response/AuthResponse.js ***!
  \****************************************************************/
/***/ ((module) => {

eval("/**\n\n Copyright (c) 2018 Intuit\n #\n # Licensed under the Apache License, Version 2.0 (the \"License\");\n # you may not use this file except in compliance with the License.\n # You may obtain a copy of the License at\n #\n #  http://www.apache.org/licenses/LICENSE-2.0\n #\n # Unless required by applicable law or agreed to in writing, software\n # distributed under the License is distributed on an \"AS IS\" BASIS,\n # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n # See the License for the specific language governing permissions and\n # limitations under the License.\n\n */\n\n/**\n * @namespace AuthResponse\n */\n\n\n\n/**\n * AuthResponse\n * @property {Token} token\n * @property {Response} response\n * @property {string} body\n * @property {object} json\n * @property {string} intuit_tid\n */\nfunction AuthResponse(params) {\n  this.token = params.token || '';\n  this.response = params.response || '';\n  this.body = params.responseText || '';\n  this.json = null;\n  this.intuit_tid = params.intuit_tid || '';\n}\n\n/**\n * Process Response\n * @param response\n */\nAuthResponse.prototype.processResponse = function processResponse(response) {\n  this.response = response || '';\n  \n  // Handle response data\n  if (response) {\n    // Set intuit_tid from headers if available\n    this.intuit_tid = (response.headers && response.headers.intuit_tid) || '';\n\n    if (response.data) {\n      // Handle axios response\n      this.body = typeof response.data === 'string' ? response.data : JSON.stringify(response.data);\n      \n      // Handle QuickBooks API error response\n      if (response.data.Fault) {\n        this.json = {\n          Fault: response.data.Fault,\n          time: response.data.time || new Date().toISOString(),\n          intuit_tid: this.intuit_tid,\n        };\n        // Store the full response including headers and status\n        this.response = {\n          ...response,\n          data: this.json,\n          status: response.status || 400,\n          statusText: response.statusText || 'Bad Request',\n        };\n      } else {\n        // Store the raw response data\n        this.json = response.data;\n        // Store the full response for successful responses\n        this.response = {\n          ...response,\n          data: this.json,\n        };\n      }\n    } else if (response.body) {\n      // Handle other response types\n      this.body = response.body;\n      try {\n        const parsedBody = typeof response.body === 'string' ? JSON.parse(response.body) : response.body;\n        \n        // Handle QuickBooks API error response\n        if (parsedBody.Fault) {\n          this.json = {\n            Fault: parsedBody.Fault,\n            time: parsedBody.time || new Date().toISOString(),\n            intuit_tid: this.intuit_tid,\n          };\n          // Store the full response including headers and status\n          this.response = {\n            ...response,\n            data: this.json,\n            status: response.status || 400,\n            statusText: response.statusText || 'Bad Request',\n          };\n        } else {\n          // Store the raw response data\n          this.json = parsedBody;\n          // Store the full response for successful responses\n          this.response = {\n            ...response,\n            data: this.json,\n          };\n        }\n      } catch (e) {\n        this.json = null;\n        this.response = response;\n      }\n    } else {\n      this.body = '';\n      this.json = null;\n      this.response = response;\n    }\n  } else {\n    this.body = '';\n    this.json = null;\n    this.response = null;\n  }\n};\n\n/**\n * Get Token\n * *\n * @returns {object} token\n */\nAuthResponse.prototype.getToken = function getToken() {\n  return this.token.getToken();\n};\n\n/**\n * Get Token\n * *\n * @returns {string} text\n */\nAuthResponse.prototype.text = function text() {\n  return this.body;\n};\n\n/**\n * Get Token\n * *\n * @returns {Number} statusCode\n */\nAuthResponse.prototype.status = function status() {\n  return this.response.status;\n};\n\n/**\n * Get response headers\n * *\n * @returns {Object} headers\n */\nAuthResponse.prototype.headers = function headers() {\n  return this.response.headers;\n};\n\n/**\n * Is Response valid { response is valid ? }\n * *\n * @returns {*|boolean}\n */\nAuthResponse.prototype.valid = function valid() {\n  return this.response && Number(this.response.status) >= 200 && Number(this.response.status) < 300;\n};\n\n/**\n * Get Json () { returns response as JSON }\n * *\n * @return {object} json\n * @throws {Error} If response cannot be parsed as JSON\n */\nAuthResponse.prototype.getJson = function getJson() {\n  // If we already have parsed JSON, return it\n  if (this.json !== null) {\n    return this.json;\n  }\n\n  // Try to parse the body if we have one\n  if (this.body) {\n    try {\n      this.json = typeof this.body === 'string' ? JSON.parse(this.body) : this.body;\n      \n      // Handle QuickBooks API error response\n      if (this.json.Fault) {\n        this.json = {\n          Fault: this.json.Fault,\n          time: this.json.time || new Date().toISOString(),\n          intuit_tid: this.intuit_tid,\n        };\n      }\n      \n      return this.json;\n    } catch (e) {\n      throw new Error(`Failed to parse response as JSON: ${e.message}`);\n    }\n  }\n\n  // If we have no body, return null\n  return null;\n};\n\n/**\n * Get Intuit tid\n * *\n * @returns {string} intuit_tid\n */\nAuthResponse.prototype.getIntuitTid = function getIntuitTid() {\n  return this.intuit_tid;\n};\n\n/**\n * isContentType\n * *\n * @returns {boolean} isContentType\n */\nAuthResponse.prototype.isContentType = function isContentType(contentType) {\n  return this.getContentType().indexOf(contentType) > -1;\n};\n\n/**\n * getContentType\n * *\n * @returns {string} getContentType\n */\nAuthResponse.prototype.getContentType = function getContentType() {\n  return this.response.headers[AuthResponse._contentType] || '';\n};\n\n/**\n * isJson\n * *\n * @returns {boolean} isJson\n */\nAuthResponse.prototype.isJson = function isJson() {\n  return this.isContentType('application/json');\n};\n\nAuthResponse._contentType = 'content-type';\nAuthResponse._jsonContentType = 'application/json';\nAuthResponse._urlencodedContentType = 'application/x-www-form-urlencoded';\n\nmodule.exports = AuthResponse;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvaW50dWl0LW9hdXRoL3NyYy9yZXNwb25zZS9BdXRoUmVzcG9uc2UuanMiLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVhOztBQUViO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckIsY0FBYyxVQUFVO0FBQ3hCLGNBQWMsUUFBUTtBQUN0QixjQUFjLFFBQVE7QUFDdEIsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFlBQVksUUFBUTtBQUNwQixZQUFZLE9BQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTiwyREFBMkQsVUFBVTtBQUNyRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29ydGV4Y2FydC1pbnNpZ2h0LWRhc2hib2FyZC8uL25vZGVfbW9kdWxlcy9pbnR1aXQtb2F1dGgvc3JjL3Jlc3BvbnNlL0F1dGhSZXNwb25zZS5qcz82YzZiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuXG4gQ29weXJpZ2h0IChjKSAyMDE4IEludHVpdFxuICNcbiAjIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gIyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gIyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAjXG4gIyAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gI1xuICMgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICMgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICMgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gIyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gIyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuICovXG5cbi8qKlxuICogQG5hbWVzcGFjZSBBdXRoUmVzcG9uc2VcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQXV0aFJlc3BvbnNlXG4gKiBAcHJvcGVydHkge1Rva2VufSB0b2tlblxuICogQHByb3BlcnR5IHtSZXNwb25zZX0gcmVzcG9uc2VcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBib2R5XG4gKiBAcHJvcGVydHkge29iamVjdH0ganNvblxuICogQHByb3BlcnR5IHtzdHJpbmd9IGludHVpdF90aWRcbiAqL1xuZnVuY3Rpb24gQXV0aFJlc3BvbnNlKHBhcmFtcykge1xuICB0aGlzLnRva2VuID0gcGFyYW1zLnRva2VuIHx8ICcnO1xuICB0aGlzLnJlc3BvbnNlID0gcGFyYW1zLnJlc3BvbnNlIHx8ICcnO1xuICB0aGlzLmJvZHkgPSBwYXJhbXMucmVzcG9uc2VUZXh0IHx8ICcnO1xuICB0aGlzLmpzb24gPSBudWxsO1xuICB0aGlzLmludHVpdF90aWQgPSBwYXJhbXMuaW50dWl0X3RpZCB8fCAnJztcbn1cblxuLyoqXG4gKiBQcm9jZXNzIFJlc3BvbnNlXG4gKiBAcGFyYW0gcmVzcG9uc2VcbiAqL1xuQXV0aFJlc3BvbnNlLnByb3RvdHlwZS5wcm9jZXNzUmVzcG9uc2UgPSBmdW5jdGlvbiBwcm9jZXNzUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlIHx8ICcnO1xuICBcbiAgLy8gSGFuZGxlIHJlc3BvbnNlIGRhdGFcbiAgaWYgKHJlc3BvbnNlKSB7XG4gICAgLy8gU2V0IGludHVpdF90aWQgZnJvbSBoZWFkZXJzIGlmIGF2YWlsYWJsZVxuICAgIHRoaXMuaW50dWl0X3RpZCA9IChyZXNwb25zZS5oZWFkZXJzICYmIHJlc3BvbnNlLmhlYWRlcnMuaW50dWl0X3RpZCkgfHwgJyc7XG5cbiAgICBpZiAocmVzcG9uc2UuZGF0YSkge1xuICAgICAgLy8gSGFuZGxlIGF4aW9zIHJlc3BvbnNlXG4gICAgICB0aGlzLmJvZHkgPSB0eXBlb2YgcmVzcG9uc2UuZGF0YSA9PT0gJ3N0cmluZycgPyByZXNwb25zZS5kYXRhIDogSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSk7XG4gICAgICBcbiAgICAgIC8vIEhhbmRsZSBRdWlja0Jvb2tzIEFQSSBlcnJvciByZXNwb25zZVxuICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuRmF1bHQpIHtcbiAgICAgICAgdGhpcy5qc29uID0ge1xuICAgICAgICAgIEZhdWx0OiByZXNwb25zZS5kYXRhLkZhdWx0LFxuICAgICAgICAgIHRpbWU6IHJlc3BvbnNlLmRhdGEudGltZSB8fCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgaW50dWl0X3RpZDogdGhpcy5pbnR1aXRfdGlkLFxuICAgICAgICB9O1xuICAgICAgICAvLyBTdG9yZSB0aGUgZnVsbCByZXNwb25zZSBpbmNsdWRpbmcgaGVhZGVycyBhbmQgc3RhdHVzXG4gICAgICAgIHRoaXMucmVzcG9uc2UgPSB7XG4gICAgICAgICAgLi4ucmVzcG9uc2UsXG4gICAgICAgICAgZGF0YTogdGhpcy5qc29uLFxuICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzIHx8IDQwMCxcbiAgICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0IHx8ICdCYWQgUmVxdWVzdCcsXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBTdG9yZSB0aGUgcmF3IHJlc3BvbnNlIGRhdGFcbiAgICAgICAgdGhpcy5qc29uID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgLy8gU3RvcmUgdGhlIGZ1bGwgcmVzcG9uc2UgZm9yIHN1Y2Nlc3NmdWwgcmVzcG9uc2VzXG4gICAgICAgIHRoaXMucmVzcG9uc2UgPSB7XG4gICAgICAgICAgLi4ucmVzcG9uc2UsXG4gICAgICAgICAgZGF0YTogdGhpcy5qc29uLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuYm9keSkge1xuICAgICAgLy8gSGFuZGxlIG90aGVyIHJlc3BvbnNlIHR5cGVzXG4gICAgICB0aGlzLmJvZHkgPSByZXNwb25zZS5ib2R5O1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IHR5cGVvZiByZXNwb25zZS5ib2R5ID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UocmVzcG9uc2UuYm9keSkgOiByZXNwb25zZS5ib2R5O1xuICAgICAgICBcbiAgICAgICAgLy8gSGFuZGxlIFF1aWNrQm9va3MgQVBJIGVycm9yIHJlc3BvbnNlXG4gICAgICAgIGlmIChwYXJzZWRCb2R5LkZhdWx0KSB7XG4gICAgICAgICAgdGhpcy5qc29uID0ge1xuICAgICAgICAgICAgRmF1bHQ6IHBhcnNlZEJvZHkuRmF1bHQsXG4gICAgICAgICAgICB0aW1lOiBwYXJzZWRCb2R5LnRpbWUgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgaW50dWl0X3RpZDogdGhpcy5pbnR1aXRfdGlkLFxuICAgICAgICAgIH07XG4gICAgICAgICAgLy8gU3RvcmUgdGhlIGZ1bGwgcmVzcG9uc2UgaW5jbHVkaW5nIGhlYWRlcnMgYW5kIHN0YXR1c1xuICAgICAgICAgIHRoaXMucmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAuLi5yZXNwb25zZSxcbiAgICAgICAgICAgIGRhdGE6IHRoaXMuanNvbixcbiAgICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzIHx8IDQwMCxcbiAgICAgICAgICAgIHN0YXR1c1RleHQ6IHJlc3BvbnNlLnN0YXR1c1RleHQgfHwgJ0JhZCBSZXF1ZXN0JyxcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFN0b3JlIHRoZSByYXcgcmVzcG9uc2UgZGF0YVxuICAgICAgICAgIHRoaXMuanNvbiA9IHBhcnNlZEJvZHk7XG4gICAgICAgICAgLy8gU3RvcmUgdGhlIGZ1bGwgcmVzcG9uc2UgZm9yIHN1Y2Nlc3NmdWwgcmVzcG9uc2VzXG4gICAgICAgICAgdGhpcy5yZXNwb25zZSA9IHtcbiAgICAgICAgICAgIC4uLnJlc3BvbnNlLFxuICAgICAgICAgICAgZGF0YTogdGhpcy5qc29uLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhpcy5qc29uID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmJvZHkgPSAnJztcbiAgICAgIHRoaXMuanNvbiA9IG51bGw7XG4gICAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMuYm9keSA9ICcnO1xuICAgIHRoaXMuanNvbiA9IG51bGw7XG4gICAgdGhpcy5yZXNwb25zZSA9IG51bGw7XG4gIH1cbn07XG5cbi8qKlxuICogR2V0IFRva2VuXG4gKiAqXG4gKiBAcmV0dXJucyB7b2JqZWN0fSB0b2tlblxuICovXG5BdXRoUmVzcG9uc2UucHJvdG90eXBlLmdldFRva2VuID0gZnVuY3Rpb24gZ2V0VG9rZW4oKSB7XG4gIHJldHVybiB0aGlzLnRva2VuLmdldFRva2VuKCk7XG59O1xuXG4vKipcbiAqIEdldCBUb2tlblxuICogKlxuICogQHJldHVybnMge3N0cmluZ30gdGV4dFxuICovXG5BdXRoUmVzcG9uc2UucHJvdG90eXBlLnRleHQgPSBmdW5jdGlvbiB0ZXh0KCkge1xuICByZXR1cm4gdGhpcy5ib2R5O1xufTtcblxuLyoqXG4gKiBHZXQgVG9rZW5cbiAqICpcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHN0YXR1c0NvZGVcbiAqL1xuQXV0aFJlc3BvbnNlLnByb3RvdHlwZS5zdGF0dXMgPSBmdW5jdGlvbiBzdGF0dXMoKSB7XG4gIHJldHVybiB0aGlzLnJlc3BvbnNlLnN0YXR1cztcbn07XG5cbi8qKlxuICogR2V0IHJlc3BvbnNlIGhlYWRlcnNcbiAqICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IGhlYWRlcnNcbiAqL1xuQXV0aFJlc3BvbnNlLnByb3RvdHlwZS5oZWFkZXJzID0gZnVuY3Rpb24gaGVhZGVycygpIHtcbiAgcmV0dXJuIHRoaXMucmVzcG9uc2UuaGVhZGVycztcbn07XG5cbi8qKlxuICogSXMgUmVzcG9uc2UgdmFsaWQgeyByZXNwb25zZSBpcyB2YWxpZCA/IH1cbiAqICpcbiAqIEByZXR1cm5zIHsqfGJvb2xlYW59XG4gKi9cbkF1dGhSZXNwb25zZS5wcm90b3R5cGUudmFsaWQgPSBmdW5jdGlvbiB2YWxpZCgpIHtcbiAgcmV0dXJuIHRoaXMucmVzcG9uc2UgJiYgTnVtYmVyKHRoaXMucmVzcG9uc2Uuc3RhdHVzKSA+PSAyMDAgJiYgTnVtYmVyKHRoaXMucmVzcG9uc2Uuc3RhdHVzKSA8IDMwMDtcbn07XG5cbi8qKlxuICogR2V0IEpzb24gKCkgeyByZXR1cm5zIHJlc3BvbnNlIGFzIEpTT04gfVxuICogKlxuICogQHJldHVybiB7b2JqZWN0fSBqc29uXG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgcmVzcG9uc2UgY2Fubm90IGJlIHBhcnNlZCBhcyBKU09OXG4gKi9cbkF1dGhSZXNwb25zZS5wcm90b3R5cGUuZ2V0SnNvbiA9IGZ1bmN0aW9uIGdldEpzb24oKSB7XG4gIC8vIElmIHdlIGFscmVhZHkgaGF2ZSBwYXJzZWQgSlNPTiwgcmV0dXJuIGl0XG4gIGlmICh0aGlzLmpzb24gIT09IG51bGwpIHtcbiAgICByZXR1cm4gdGhpcy5qc29uO1xuICB9XG5cbiAgLy8gVHJ5IHRvIHBhcnNlIHRoZSBib2R5IGlmIHdlIGhhdmUgb25lXG4gIGlmICh0aGlzLmJvZHkpIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5qc29uID0gdHlwZW9mIHRoaXMuYm9keSA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKHRoaXMuYm9keSkgOiB0aGlzLmJvZHk7XG4gICAgICBcbiAgICAgIC8vIEhhbmRsZSBRdWlja0Jvb2tzIEFQSSBlcnJvciByZXNwb25zZVxuICAgICAgaWYgKHRoaXMuanNvbi5GYXVsdCkge1xuICAgICAgICB0aGlzLmpzb24gPSB7XG4gICAgICAgICAgRmF1bHQ6IHRoaXMuanNvbi5GYXVsdCxcbiAgICAgICAgICB0aW1lOiB0aGlzLmpzb24udGltZSB8fCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgaW50dWl0X3RpZDogdGhpcy5pbnR1aXRfdGlkLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gdGhpcy5qc29uO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHBhcnNlIHJlc3BvbnNlIGFzIEpTT046ICR7ZS5tZXNzYWdlfWApO1xuICAgIH1cbiAgfVxuXG4gIC8vIElmIHdlIGhhdmUgbm8gYm9keSwgcmV0dXJuIG51bGxcbiAgcmV0dXJuIG51bGw7XG59O1xuXG4vKipcbiAqIEdldCBJbnR1aXQgdGlkXG4gKiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBpbnR1aXRfdGlkXG4gKi9cbkF1dGhSZXNwb25zZS5wcm90b3R5cGUuZ2V0SW50dWl0VGlkID0gZnVuY3Rpb24gZ2V0SW50dWl0VGlkKCkge1xuICByZXR1cm4gdGhpcy5pbnR1aXRfdGlkO1xufTtcblxuLyoqXG4gKiBpc0NvbnRlbnRUeXBlXG4gKiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gaXNDb250ZW50VHlwZVxuICovXG5BdXRoUmVzcG9uc2UucHJvdG90eXBlLmlzQ29udGVudFR5cGUgPSBmdW5jdGlvbiBpc0NvbnRlbnRUeXBlKGNvbnRlbnRUeXBlKSB7XG4gIHJldHVybiB0aGlzLmdldENvbnRlbnRUeXBlKCkuaW5kZXhPZihjb250ZW50VHlwZSkgPiAtMTtcbn07XG5cbi8qKlxuICogZ2V0Q29udGVudFR5cGVcbiAqICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IGdldENvbnRlbnRUeXBlXG4gKi9cbkF1dGhSZXNwb25zZS5wcm90b3R5cGUuZ2V0Q29udGVudFR5cGUgPSBmdW5jdGlvbiBnZXRDb250ZW50VHlwZSgpIHtcbiAgcmV0dXJuIHRoaXMucmVzcG9uc2UuaGVhZGVyc1tBdXRoUmVzcG9uc2UuX2NvbnRlbnRUeXBlXSB8fCAnJztcbn07XG5cbi8qKlxuICogaXNKc29uXG4gKiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gaXNKc29uXG4gKi9cbkF1dGhSZXNwb25zZS5wcm90b3R5cGUuaXNKc29uID0gZnVuY3Rpb24gaXNKc29uKCkge1xuICByZXR1cm4gdGhpcy5pc0NvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJyk7XG59O1xuXG5BdXRoUmVzcG9uc2UuX2NvbnRlbnRUeXBlID0gJ2NvbnRlbnQtdHlwZSc7XG5BdXRoUmVzcG9uc2UuX2pzb25Db250ZW50VHlwZSA9ICdhcHBsaWNhdGlvbi9qc29uJztcbkF1dGhSZXNwb25zZS5fdXJsZW5jb2RlZENvbnRlbnRUeXBlID0gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCc7XG5cbm1vZHVsZS5leHBvcnRzID0gQXV0aFJlc3BvbnNlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/intuit-oauth/src/response/AuthResponse.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/intuit-oauth/package.json":
/*!************************************************!*\
  !*** ./node_modules/intuit-oauth/package.json ***!
  \************************************************/
/***/ ((module) => {

module.exports = /*#__PURE__*/JSON.parse('{"name":"intuit-oauth","version":"4.2.2","description":"Intuit Node.js client for OAuth2.0 and OpenIDConnect","main":"./src/OAuthClient.js","scripts":{"start":"node index.js","karma":"karma start karma.conf.js","test":"nyc mocha","snyk":"snyk test","lint":"eslint .","fix":"eslint . --fix","posttest":"nyc check-coverage","test-watch":"mocha --watch --reporter=spec","test-debug":"mocha --inspect-brk --watch test","show-coverage":"npm test; open -a \'Google Chrome\' coverage/index.html","clean-install":"rm -rf node_modules && npm install","snyk-protect":"snyk-protect","prepublish":"npm run snyk-protect"},"keywords":["intuit-oauth","intuit-oauth-nodejs","intuit-nodejs","oauth2.0","openid","openidConnect","quickbooks-accounting","quickbooks-payment"],"nyc":{"exclude":["node_modules","bin","coverage",".nyc_output","sample","sample/node_modules"],"check-coverage":true,"lines":95,"statements":95,"functions":90,"branches":85,"reporter":["lcov","text","text-summary","html","json"]},"engines":{"node":">=10"},"repository":{"type":"git","url":"https://github.com/intuit/oauth-jsclient.git"},"author":{"name":"Anil Kumar","email":"anil_kumar3@intuit.com"},"license":"Apache-2.0","bugs":{"url":"https://github.com/intuit/oauth-jsclient/issues"},"homepage":"https://github.com/intuit/oauth-jsclient","dependencies":{"atob":"2.1.2","axios":"^1.9.0","csrf":"^3.0.4","jsonwebtoken":"^9.0.2","query-string":"^6.12.1","rsa-pem-from-mod-exp":"^0.8.4","winston":"^3.1.0"},"devDependencies":{"@snyk/protect":"^1.657.0","btoa":"^1.2.1","chai":"^4.1.2","chai-as-promised":"^7.1.1","eslint":"^8.57.0","eslint-config-airbnb-base":"^15.0.0","eslint-config-prettier":"^8.10.0","eslint-plugin-import":"^2.29.1","mocha":"^10.2.0","nock":"^9.2.3","nyc":"^15.0.1","prettier":"^2.0.5","sinon":"^9.0.2"},"snyk":true}');

/***/ })

};
;