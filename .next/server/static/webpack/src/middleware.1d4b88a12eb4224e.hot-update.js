"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("src/middleware",{

/***/ "(middleware)/./node_modules/next-auth/middleware.js":
/*!**********************************************!*\
  !*** ./node_modules/next-auth/middleware.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nvar _exportNames = {};\nObject.defineProperty(exports, \"default\", ({\n  enumerable: true,\n  get: function () {\n    return _middleware.default;\n  }\n}));\nvar _middleware = _interopRequireWildcard(__webpack_require__(/*! ./next/middleware */ \"(middleware)/./node_modules/next-auth/next/middleware.js\"));\nObject.keys(_middleware).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _middleware[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function () {\n      return _middleware[key];\n    }\n  });\n});\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQtYXV0aC9taWRkbGV3YXJlLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGO0FBQ0EsMkNBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsMENBQTBDLG1CQUFPLENBQUMsbUZBQW1CO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0QsdUNBQXVDLCtDQUErQywwQ0FBMEMsa0RBQWtELG1CQUFtQjtBQUNyTSx5Q0FBeUMsdUNBQXVDLDJFQUEyRSxjQUFjLHFDQUFxQyxvQ0FBb0MsVUFBVSxpQkFBaUIsZ0VBQWdFLDBDQUEwQyw4QkFBOEIsMERBQTBELHdFQUF3RSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvbmV4dC1hdXRoL21pZGRsZXdhcmUuanM/ZTUyZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciBfZXhwb3J0TmFtZXMgPSB7fTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImRlZmF1bHRcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX21pZGRsZXdhcmUuZGVmYXVsdDtcbiAgfVxufSk7XG52YXIgX21pZGRsZXdhcmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwiLi9uZXh0L21pZGRsZXdhcmVcIikpO1xuT2JqZWN0LmtleXMoX21pZGRsZXdhcmUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIiB8fCBrZXkgPT09IFwiX19lc01vZHVsZVwiKSByZXR1cm47XG4gIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX2V4cG9ydE5hbWVzLCBrZXkpKSByZXR1cm47XG4gIGlmIChrZXkgaW4gZXhwb3J0cyAmJiBleHBvcnRzW2tleV0gPT09IF9taWRkbGV3YXJlW2tleV0pIHJldHVybjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX21pZGRsZXdhcmVba2V5XTtcbiAgICB9XG4gIH0pO1xufSk7XG5mdW5jdGlvbiBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUoZSkgeyBpZiAoXCJmdW5jdGlvblwiICE9IHR5cGVvZiBXZWFrTWFwKSByZXR1cm4gbnVsbDsgdmFyIHIgPSBuZXcgV2Vha01hcCgpLCB0ID0gbmV3IFdlYWtNYXAoKTsgcmV0dXJuIChfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gZSA/IHQgOiByOyB9KShlKTsgfVxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoZSwgcikgeyBpZiAoIXIgJiYgZSAmJiBlLl9fZXNNb2R1bGUpIHJldHVybiBlOyBpZiAobnVsbCA9PT0gZSB8fCBcIm9iamVjdFwiICE9IHR5cGVvZiBlICYmIFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgZSkgcmV0dXJuIHsgZGVmYXVsdDogZSB9OyB2YXIgdCA9IF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZShyKTsgaWYgKHQgJiYgdC5oYXMoZSkpIHJldHVybiB0LmdldChlKTsgdmFyIG4gPSB7IF9fcHJvdG9fXzogbnVsbCB9LCBhID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7IGZvciAodmFyIHUgaW4gZSkgaWYgKFwiZGVmYXVsdFwiICE9PSB1ICYmIHt9Lmhhc093blByb3BlcnR5LmNhbGwoZSwgdSkpIHsgdmFyIGkgPSBhID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCB1KSA6IG51bGw7IGkgJiYgKGkuZ2V0IHx8IGkuc2V0KSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCB1LCBpKSA6IG5bdV0gPSBlW3VdOyB9IHJldHVybiBuLmRlZmF1bHQgPSBlLCB0ICYmIHQuc2V0KGUsIG4pLCBuOyB9Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next-auth/middleware.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next-auth/next/middleware.js":
/*!***************************************************!*\
  !*** ./node_modules/next-auth/next/middleware.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\n\nvar _interopRequireDefault = __webpack_require__(/*! @babel/runtime/helpers/interopRequireDefault */ \"(middleware)/./node_modules/@babel/runtime/helpers/interopRequireDefault.js\");\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = void 0;\nexports.withAuth = withAuth;\nvar _server = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\nvar _jwt = __webpack_require__(/*! ../jwt */ \"(middleware)/./node_modules/next-auth/jwt/index.js\");\nvar _parseUrl = _interopRequireDefault(__webpack_require__(/*! ../utils/parse-url */ \"(middleware)/./node_modules/next-auth/utils/parse-url.js\"));\nasync function handleMiddleware(req, options, onSuccess) {\n  var _options$pages$signIn, _options$pages, _options$pages$error, _options$pages2, _ref, _options$secret, _options$jwt, _options$cookies, _await$options$callba, _options$callbacks, _options$callbacks$au;\n  const {\n    pathname,\n    search,\n    origin,\n    basePath\n  } = req.nextUrl;\n  const signInPage = (_options$pages$signIn = options === null || options === void 0 || (_options$pages = options.pages) === null || _options$pages === void 0 ? void 0 : _options$pages.signIn) !== null && _options$pages$signIn !== void 0 ? _options$pages$signIn : \"/api/auth/signin\";\n  const errorPage = (_options$pages$error = options === null || options === void 0 || (_options$pages2 = options.pages) === null || _options$pages2 === void 0 ? void 0 : _options$pages2.error) !== null && _options$pages$error !== void 0 ? _options$pages$error : \"/api/auth/error\";\n  const authPath = (0, _parseUrl.default)(process.env.NEXTAUTH_URL).path;\n  const publicPaths = [\"/_next\", \"/favicon.ico\"];\n  if (`${basePath}${pathname}`.startsWith(authPath) || [signInPage, errorPage].includes(pathname) || publicPaths.some(p => pathname.startsWith(p))) {\n    return;\n  }\n  const secret = (_ref = (_options$secret = options === null || options === void 0 ? void 0 : options.secret) !== null && _options$secret !== void 0 ? _options$secret : process.env.NEXTAUTH_SECRET) !== null && _ref !== void 0 ? _ref : process.env.AUTH_SECRET;\n  if (!secret) {\n    console.error(`[next-auth][error][NO_SECRET]`, `\\nhttps://next-auth.js.org/errors#no_secret`);\n    const errorUrl = new URL(`${basePath}${errorPage}`, origin);\n    errorUrl.searchParams.append(\"error\", \"Configuration\");\n    return _server.NextResponse.redirect(errorUrl);\n  }\n  const token = await (0, _jwt.getToken)({\n    req,\n    decode: options === null || options === void 0 || (_options$jwt = options.jwt) === null || _options$jwt === void 0 ? void 0 : _options$jwt.decode,\n    cookieName: options === null || options === void 0 || (_options$cookies = options.cookies) === null || _options$cookies === void 0 || (_options$cookies = _options$cookies.sessionToken) === null || _options$cookies === void 0 ? void 0 : _options$cookies.name,\n    secret\n  });\n  const isAuthorized = (_await$options$callba = await (options === null || options === void 0 || (_options$callbacks = options.callbacks) === null || _options$callbacks === void 0 || (_options$callbacks$au = _options$callbacks.authorized) === null || _options$callbacks$au === void 0 ? void 0 : _options$callbacks$au.call(_options$callbacks, {\n    req,\n    token\n  }))) !== null && _await$options$callba !== void 0 ? _await$options$callba : !!token;\n  if (isAuthorized) return await (onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess(token));\n  const signInUrl = new URL(`${basePath}${signInPage}`, origin);\n  signInUrl.searchParams.append(\"callbackUrl\", `${basePath}${pathname}${search}`);\n  return _server.NextResponse.redirect(signInUrl);\n}\nfunction withAuth(...args) {\n  if (!args.length || args[0] instanceof Request) {\n    return handleMiddleware(...args);\n  }\n  if (typeof args[0] === \"function\") {\n    const middleware = args[0];\n    const options = args[1];\n    return async (...args) => await handleMiddleware(args[0], options, async token => {\n      args[0].nextauth = {\n        token\n      };\n      return await middleware(...args);\n    });\n  }\n  const options = args[0];\n  return async (...args) => await handleMiddleware(args[0], options);\n}\nvar _default = exports[\"default\"] = withAuth;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQtYXV0aC9uZXh0L21pZGRsZXdhcmUuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsNkJBQTZCLG1CQUFPLENBQUMsaUlBQThDO0FBQ25GLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQztBQUNGLGtCQUFlO0FBQ2YsZ0JBQWdCO0FBQ2hCLGNBQWMsbUJBQU8sQ0FBQyw0RUFBYTtBQUNuQyxXQUFXLG1CQUFPLENBQUMsa0VBQVE7QUFDM0IsdUNBQXVDLG1CQUFPLENBQUMsb0ZBQW9CO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxTQUFTLEVBQUUsU0FBUztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLFNBQVMsRUFBRSxVQUFVO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsK0JBQStCLFNBQVMsRUFBRSxXQUFXO0FBQ3JELGtEQUFrRCxTQUFTLEVBQUUsU0FBUyxFQUFFLE9BQU87QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL25leHQtYXV0aC9uZXh0L21pZGRsZXdhcmUuanM/NDc1MCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuZXhwb3J0cy53aXRoQXV0aCA9IHdpdGhBdXRoO1xudmFyIF9zZXJ2ZXIgPSByZXF1aXJlKFwibmV4dC9zZXJ2ZXJcIik7XG52YXIgX2p3dCA9IHJlcXVpcmUoXCIuLi9qd3RcIik7XG52YXIgX3BhcnNlVXJsID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vdXRpbHMvcGFyc2UtdXJsXCIpKTtcbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZU1pZGRsZXdhcmUocmVxLCBvcHRpb25zLCBvblN1Y2Nlc3MpIHtcbiAgdmFyIF9vcHRpb25zJHBhZ2VzJHNpZ25JbiwgX29wdGlvbnMkcGFnZXMsIF9vcHRpb25zJHBhZ2VzJGVycm9yLCBfb3B0aW9ucyRwYWdlczIsIF9yZWYsIF9vcHRpb25zJHNlY3JldCwgX29wdGlvbnMkand0LCBfb3B0aW9ucyRjb29raWVzLCBfYXdhaXQkb3B0aW9ucyRjYWxsYmEsIF9vcHRpb25zJGNhbGxiYWNrcywgX29wdGlvbnMkY2FsbGJhY2tzJGF1O1xuICBjb25zdCB7XG4gICAgcGF0aG5hbWUsXG4gICAgc2VhcmNoLFxuICAgIG9yaWdpbixcbiAgICBiYXNlUGF0aFxuICB9ID0gcmVxLm5leHRVcmw7XG4gIGNvbnN0IHNpZ25JblBhZ2UgPSAoX29wdGlvbnMkcGFnZXMkc2lnbkluID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgfHwgKF9vcHRpb25zJHBhZ2VzID0gb3B0aW9ucy5wYWdlcykgPT09IG51bGwgfHwgX29wdGlvbnMkcGFnZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zJHBhZ2VzLnNpZ25JbikgIT09IG51bGwgJiYgX29wdGlvbnMkcGFnZXMkc2lnbkluICE9PSB2b2lkIDAgPyBfb3B0aW9ucyRwYWdlcyRzaWduSW4gOiBcIi9hcGkvYXV0aC9zaWduaW5cIjtcbiAgY29uc3QgZXJyb3JQYWdlID0gKF9vcHRpb25zJHBhZ2VzJGVycm9yID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgfHwgKF9vcHRpb25zJHBhZ2VzMiA9IG9wdGlvbnMucGFnZXMpID09PSBudWxsIHx8IF9vcHRpb25zJHBhZ2VzMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnMkcGFnZXMyLmVycm9yKSAhPT0gbnVsbCAmJiBfb3B0aW9ucyRwYWdlcyRlcnJvciAhPT0gdm9pZCAwID8gX29wdGlvbnMkcGFnZXMkZXJyb3IgOiBcIi9hcGkvYXV0aC9lcnJvclwiO1xuICBjb25zdCBhdXRoUGF0aCA9ICgwLCBfcGFyc2VVcmwuZGVmYXVsdCkocHJvY2Vzcy5lbnYuTkVYVEFVVEhfVVJMKS5wYXRoO1xuICBjb25zdCBwdWJsaWNQYXRocyA9IFtcIi9fbmV4dFwiLCBcIi9mYXZpY29uLmljb1wiXTtcbiAgaWYgKGAke2Jhc2VQYXRofSR7cGF0aG5hbWV9YC5zdGFydHNXaXRoKGF1dGhQYXRoKSB8fCBbc2lnbkluUGFnZSwgZXJyb3JQYWdlXS5pbmNsdWRlcyhwYXRobmFtZSkgfHwgcHVibGljUGF0aHMuc29tZShwID0+IHBhdGhuYW1lLnN0YXJ0c1dpdGgocCkpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHNlY3JldCA9IChfcmVmID0gKF9vcHRpb25zJHNlY3JldCA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5zZWNyZXQpICE9PSBudWxsICYmIF9vcHRpb25zJHNlY3JldCAhPT0gdm9pZCAwID8gX29wdGlvbnMkc2VjcmV0IDogcHJvY2Vzcy5lbnYuTkVYVEFVVEhfU0VDUkVUKSAhPT0gbnVsbCAmJiBfcmVmICE9PSB2b2lkIDAgPyBfcmVmIDogcHJvY2Vzcy5lbnYuQVVUSF9TRUNSRVQ7XG4gIGlmICghc2VjcmV0KSB7XG4gICAgY29uc29sZS5lcnJvcihgW25leHQtYXV0aF1bZXJyb3JdW05PX1NFQ1JFVF1gLCBgXFxuaHR0cHM6Ly9uZXh0LWF1dGguanMub3JnL2Vycm9ycyNub19zZWNyZXRgKTtcbiAgICBjb25zdCBlcnJvclVybCA9IG5ldyBVUkwoYCR7YmFzZVBhdGh9JHtlcnJvclBhZ2V9YCwgb3JpZ2luKTtcbiAgICBlcnJvclVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwiZXJyb3JcIiwgXCJDb25maWd1cmF0aW9uXCIpO1xuICAgIHJldHVybiBfc2VydmVyLk5leHRSZXNwb25zZS5yZWRpcmVjdChlcnJvclVybCk7XG4gIH1cbiAgY29uc3QgdG9rZW4gPSBhd2FpdCAoMCwgX2p3dC5nZXRUb2tlbikoe1xuICAgIHJlcSxcbiAgICBkZWNvZGU6IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwIHx8IChfb3B0aW9ucyRqd3QgPSBvcHRpb25zLmp3dCkgPT09IG51bGwgfHwgX29wdGlvbnMkand0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9ucyRqd3QuZGVjb2RlLFxuICAgIGNvb2tpZU5hbWU6IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwIHx8IChfb3B0aW9ucyRjb29raWVzID0gb3B0aW9ucy5jb29raWVzKSA9PT0gbnVsbCB8fCBfb3B0aW9ucyRjb29raWVzID09PSB2b2lkIDAgfHwgKF9vcHRpb25zJGNvb2tpZXMgPSBfb3B0aW9ucyRjb29raWVzLnNlc3Npb25Ub2tlbikgPT09IG51bGwgfHwgX29wdGlvbnMkY29va2llcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnMkY29va2llcy5uYW1lLFxuICAgIHNlY3JldFxuICB9KTtcbiAgY29uc3QgaXNBdXRob3JpemVkID0gKF9hd2FpdCRvcHRpb25zJGNhbGxiYSA9IGF3YWl0IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCB8fCAoX29wdGlvbnMkY2FsbGJhY2tzID0gb3B0aW9ucy5jYWxsYmFja3MpID09PSBudWxsIHx8IF9vcHRpb25zJGNhbGxiYWNrcyA9PT0gdm9pZCAwIHx8IChfb3B0aW9ucyRjYWxsYmFja3MkYXUgPSBfb3B0aW9ucyRjYWxsYmFja3MuYXV0aG9yaXplZCkgPT09IG51bGwgfHwgX29wdGlvbnMkY2FsbGJhY2tzJGF1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3B0aW9ucyRjYWxsYmFja3MkYXUuY2FsbChfb3B0aW9ucyRjYWxsYmFja3MsIHtcbiAgICByZXEsXG4gICAgdG9rZW5cbiAgfSkpKSAhPT0gbnVsbCAmJiBfYXdhaXQkb3B0aW9ucyRjYWxsYmEgIT09IHZvaWQgMCA/IF9hd2FpdCRvcHRpb25zJGNhbGxiYSA6ICEhdG9rZW47XG4gIGlmIChpc0F1dGhvcml6ZWQpIHJldHVybiBhd2FpdCAob25TdWNjZXNzID09PSBudWxsIHx8IG9uU3VjY2VzcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25TdWNjZXNzKHRva2VuKSk7XG4gIGNvbnN0IHNpZ25JblVybCA9IG5ldyBVUkwoYCR7YmFzZVBhdGh9JHtzaWduSW5QYWdlfWAsIG9yaWdpbik7XG4gIHNpZ25JblVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwiY2FsbGJhY2tVcmxcIiwgYCR7YmFzZVBhdGh9JHtwYXRobmFtZX0ke3NlYXJjaH1gKTtcbiAgcmV0dXJuIF9zZXJ2ZXIuTmV4dFJlc3BvbnNlLnJlZGlyZWN0KHNpZ25JblVybCk7XG59XG5mdW5jdGlvbiB3aXRoQXV0aCguLi5hcmdzKSB7XG4gIGlmICghYXJncy5sZW5ndGggfHwgYXJnc1swXSBpbnN0YW5jZW9mIFJlcXVlc3QpIHtcbiAgICByZXR1cm4gaGFuZGxlTWlkZGxld2FyZSguLi5hcmdzKTtcbiAgfVxuICBpZiAodHlwZW9mIGFyZ3NbMF0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGNvbnN0IG1pZGRsZXdhcmUgPSBhcmdzWzBdO1xuICAgIGNvbnN0IG9wdGlvbnMgPSBhcmdzWzFdO1xuICAgIHJldHVybiBhc3luYyAoLi4uYXJncykgPT4gYXdhaXQgaGFuZGxlTWlkZGxld2FyZShhcmdzWzBdLCBvcHRpb25zLCBhc3luYyB0b2tlbiA9PiB7XG4gICAgICBhcmdzWzBdLm5leHRhdXRoID0ge1xuICAgICAgICB0b2tlblxuICAgICAgfTtcbiAgICAgIHJldHVybiBhd2FpdCBtaWRkbGV3YXJlKC4uLmFyZ3MpO1xuICAgIH0pO1xuICB9XG4gIGNvbnN0IG9wdGlvbnMgPSBhcmdzWzBdO1xuICByZXR1cm4gYXN5bmMgKC4uLmFyZ3MpID0+IGF3YWl0IGhhbmRsZU1pZGRsZXdhcmUoYXJnc1swXSwgb3B0aW9ucyk7XG59XG52YXIgX2RlZmF1bHQgPSBleHBvcnRzLmRlZmF1bHQgPSB3aXRoQXV0aDsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next-auth/next/middleware.js\n");

/***/ }),

/***/ "(middleware)/./node_modules/next-auth/utils/parse-url.js":
/*!***************************************************!*\
  !*** ./node_modules/next-auth/utils/parse-url.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = parseUrl;\nfunction parseUrl(url) {\n  var _url2;\n  const defaultUrl = new URL(\"http://localhost:3000/api/auth\");\n  if (url && !url.startsWith(\"http\")) {\n    url = `https://${url}`;\n  }\n  const _url = new URL((_url2 = url) !== null && _url2 !== void 0 ? _url2 : defaultUrl);\n  const path = (_url.pathname === \"/\" ? defaultUrl.pathname : _url.pathname).replace(/\\/$/, \"\");\n  const base = `${_url.origin}${path}`;\n  return {\n    origin: _url.origin,\n    host: _url.host,\n    path,\n    base,\n    toString: () => base\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbm9kZV9tb2R1bGVzL25leHQtYXV0aC91dGlscy9wYXJzZS11cmwuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDO0FBQzdDO0FBQ0EsQ0FBQyxFQUFDO0FBQ0Ysa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixJQUFJO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixZQUFZLEVBQUUsS0FBSztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9uZXh0LWF1dGgvdXRpbHMvcGFyc2UtdXJsLmpzPzIzMmUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBwYXJzZVVybDtcbmZ1bmN0aW9uIHBhcnNlVXJsKHVybCkge1xuICB2YXIgX3VybDI7XG4gIGNvbnN0IGRlZmF1bHRVcmwgPSBuZXcgVVJMKFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hdXRoXCIpO1xuICBpZiAodXJsICYmICF1cmwuc3RhcnRzV2l0aChcImh0dHBcIikpIHtcbiAgICB1cmwgPSBgaHR0cHM6Ly8ke3VybH1gO1xuICB9XG4gIGNvbnN0IF91cmwgPSBuZXcgVVJMKChfdXJsMiA9IHVybCkgIT09IG51bGwgJiYgX3VybDIgIT09IHZvaWQgMCA/IF91cmwyIDogZGVmYXVsdFVybCk7XG4gIGNvbnN0IHBhdGggPSAoX3VybC5wYXRobmFtZSA9PT0gXCIvXCIgPyBkZWZhdWx0VXJsLnBhdGhuYW1lIDogX3VybC5wYXRobmFtZSkucmVwbGFjZSgvXFwvJC8sIFwiXCIpO1xuICBjb25zdCBiYXNlID0gYCR7X3VybC5vcmlnaW59JHtwYXRofWA7XG4gIHJldHVybiB7XG4gICAgb3JpZ2luOiBfdXJsLm9yaWdpbixcbiAgICBob3N0OiBfdXJsLmhvc3QsXG4gICAgcGF0aCxcbiAgICBiYXNlLFxuICAgIHRvU3RyaW5nOiAoKSA9PiBiYXNlXG4gIH07XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./node_modules/next-auth/utils/parse-url.js\n");

/***/ }),

/***/ "(middleware)/./src/middleware.js":
/*!***************************!*\
  !*** ./src/middleware.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_auth_middleware__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/middleware */ \"(middleware)/./node_modules/next-auth/middleware.js\");\n/* harmony import */ var next_auth_middleware__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth_middleware__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n/* harmony import */ var next_auth_jwt__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/jwt */ \"(middleware)/./node_modules/next-auth/jwt/index.js\");\n/* harmony import */ var next_auth_jwt__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_auth_jwt__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jose */ \"(middleware)/./node_modules/jose/dist/browser/jwt/verify.js\");\n/* harmony import */ var _lib_plans__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/plans */ \"(middleware)/./src/lib/plans.js\");\n// src/middleware.js\nconst runtime = \"nodejs\";\n\n\n\n\n\n// --- Feature Mappings ---\nconst PATH_REQUIREMENTS = {\n    \"/social\": {\n        limitKey: \"maxSocialConnections\",\n        minRequired: 1\n    },\n    \"/settings/integrations\": {\n        limitKey: \"maxPlatformIntegrations\",\n        minRequired: 1\n    },\n    \"/settings/platforms\": {\n        limitKey: \"maxPlatformIntegrations\",\n        minRequired: 1\n    },\n    \"/analytics/google\": {\n        limitKey: \"googleAnalytics\",\n        minRequired: true\n    },\n    \"/experiments\": {\n        limitKey: \"abTesting\",\n        minRequired: true\n    },\n    \"/heatmaps\": {\n        limitKey: \"maxHeatmaps\",\n        minRequired: 1\n    },\n    \"/recommendations\": {\n        limitKey: \"recommendationWidgets\",\n        minRequired: true\n    },\n    \"/reports\": {\n        limitKey: \"maxReports\",\n        minRequired: true\n    },\n    \"/support/support-tickets\": {\n        limitKey: \"supportTickets\",\n        minRequired: true\n    }\n};\nconst getAdminSecret = ()=>{\n    const secret = process.env.JWT_ADMIN_SECRET;\n    if (!secret) throw new Error(\"JWT_ADMIN_SECRET is not set.\");\n    return new TextEncoder().encode(secret);\n};\n// ==============================================================\n// 1. ORIGINAL MIDDLEWARE LOGIC (Renamed)\n// ==============================================================\nasync function customMiddleware(req) {\n    const { pathname } = req.nextUrl;\n    const appUrl = process.env.NEXTAUTH_URL || req.nextUrl.origin;\n    // NOTE: Public path check is now handled in 'authorized' callback below,\n    // but redundant check here is harmless and safe.\n    // ==============================================================\n    // 2. Admin Check\n    // ==============================================================\n    if (pathname.startsWith(\"/admin\") && !pathname.startsWith(\"/admin/login\")) {\n        const adminCookie = req.cookies.get(\"cortex-tracker-token\");\n        if (!adminCookie) return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.redirect(new URL(\"/admin/login\", appUrl));\n        try {\n            const { payload } = await (0,jose__WEBPACK_IMPORTED_MODULE_4__.jwtVerify)(adminCookie.value, getAdminSecret());\n            if (payload.role !== \"superadmin\") throw new Error(\"Not superadmin\");\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.next();\n        } catch (e) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.redirect(new URL(\"/admin/login?error=InvalidToken\", appUrl));\n        }\n    }\n    // ==============================================================\n    // 3. Feature & Authentication Check\n    // ==============================================================\n    const requirement = Object.entries(PATH_REQUIREMENTS).find(([path])=>pathname.startsWith(path))?.[1];\n    if (requirement) {\n        // We can reuse the token from NextAuth wrapper if we wanted, but existing logic fetches it.\n        // req.nextauth.token is available if we used 'callbacks' correctly above.\n        // Let's stick to existing getToken to minimize breakage risk during migration.\n        const sessionToken = await (0,next_auth_jwt__WEBPACK_IMPORTED_MODULE_2__.getToken)({\n            req,\n            secret: process.env.NEXTAUTH_SECRET\n        });\n        // If user is not logged in, redirect to login\n        if (!sessionToken?.email) {\n            const loginUrl = new URL(\"/login\", appUrl);\n            loginUrl.searchParams.set(\"callbackUrl\", req.url);\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.redirect(loginUrl);\n        }\n        const priceId = sessionToken.stripePriceId;\n        const status = sessionToken.stripeSubscriptionStatus;\n        const isActive = status === \"active\" || status === \"trialing\";\n        let plan;\n        if (priceId && isActive) {\n            plan = (0,_lib_plans__WEBPACK_IMPORTED_MODULE_3__.getPlanDetails)(priceId);\n        } else {\n            plan = (0,_lib_plans__WEBPACK_IMPORTED_MODULE_3__.getPlanDetails)(null);\n        }\n        const limit = plan.limits[requirement.limitKey];\n        let hasAccess = false;\n        if (typeof requirement.minRequired === \"boolean\") {\n            const isTruthy = !!limit || limit === Number.POSITIVE_INFINITY;\n            hasAccess = isTruthy === requirement.minRequired;\n        } else if (typeof limit === \"number\") {\n            hasAccess = limit >= requirement.minRequired;\n        }\n        if (!hasAccess) {\n            const url = new URL(\"/upgrade-plans\", appUrl);\n            url.searchParams.set(\"reason\", isActive ? \"limit\" : \"inactive_or_free\");\n            url.searchParams.set(\"feature\", requirement.limitKey);\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.redirect(url);\n        }\n    }\n    return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.next();\n}\n// ==============================================================\n// 4. MAIN EXPORT: WITHAUTH WRAPPER\n// ==============================================================\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_auth_middleware__WEBPACK_IMPORTED_MODULE_0__.withAuth)(customMiddleware, {\n    callbacks: {\n        authorized: ({ req, token })=>{\n            const { pathname } = req.nextUrl;\n            // A. PUBLIC PATHS - Allow\n            const publicPaths = [\n                \"/login\",\n                \"/registration\",\n                \"/verify-email\",\n                \"/api/auth\",\n                \"/api/register\",\n                \"/api/verify-token\",\n                \"/favicon.ico\",\n                \"/_next\",\n                \"/static\",\n                \"/api/webhooks\",\n                \"/api/crm/send-message\",\n                \"/api/webhooks/whatsapp\"\n            ];\n            if (publicPaths.some((path)=>pathname.startsWith(path))) {\n                return true;\n            }\n            // B. ADMIN PATHS - Allow (Let inner middleware handle custom token check)\n            if (pathname.startsWith(\"/admin\")) {\n                return true;\n            }\n            // C. DEFAULT - Require Session Token\n            // If token exists, return true (allow access -> run middleware).\n            // If false, redirects to pages.signIn\n            return !!token;\n        }\n    },\n    pages: {\n        signIn: \"/login\"\n    }\n}));\n// ==============================================================\n// 5. CONFIGURATION\n// ==============================================================\nconst config = {\n    matcher: [\n        // match all paths except static files\n        \"/((?!_next/static|_next/image|favicon.ico).*)\"\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MEI7WUFDMUIsTUFBTTBDLGNBQWM7Z0JBQ2hCO2dCQUNBO2dCQUNBO2dCQUNBO2dCQUNBO2dCQUNBO2dCQUNBO2dCQUNBO2dCQUNBO2dCQUNBO2dCQUNBO2dCQUNBO2FBQ0g7WUFDRCxJQUFJQSxZQUFZQyxJQUFJLENBQUN4QixDQUFBQSxPQUFRcEIsU0FBU0ssVUFBVSxDQUFDZSxRQUFRO2dCQUNyRCxPQUFPO1lBQ1g7WUFFQSwwRUFBMEU7WUFDMUUsSUFBSXBCLFNBQVNLLFVBQVUsQ0FBQyxXQUFXO2dCQUMvQixPQUFPO1lBQ1g7WUFFQSxxQ0FBcUM7WUFDckMsaUVBQWlFO1lBQ2pFLHNDQUFzQztZQUN0QyxPQUFPLENBQUMsQ0FBQ3FDO1FBQ2I7SUFDSjtJQUNBRyxPQUFPO1FBQ0hDLFFBQVE7SUFDWjtBQUNKLElBQ0Y7QUFFRixpRUFBaUU7QUFDakUsbUJBQW1CO0FBQ25CLGlFQUFpRTtBQUMxRCxNQUFNQyxTQUFTO0lBQ2xCQyxTQUFTO1FBQ0wsc0NBQXNDO1FBQ3RDO0tBQ0g7QUFDTCxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9taWRkbGV3YXJlLmpzP2E0OWEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL21pZGRsZXdhcmUuanNcbmV4cG9ydCBjb25zdCBydW50aW1lID0gJ25vZGVqcyc7XG5cbmltcG9ydCB7IHdpdGhBdXRoIH0gZnJvbSBcIm5leHQtYXV0aC9taWRkbGV3YXJlXCI7XG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBnZXRUb2tlbiB9IGZyb20gJ25leHQtYXV0aC9qd3QnO1xuaW1wb3J0IHsgand0VmVyaWZ5IH0gZnJvbSAnam9zZSc7XG5pbXBvcnQgeyBnZXRQbGFuRGV0YWlscyB9IGZyb20gJ0AvbGliL3BsYW5zJztcblxuLy8gLS0tIEZlYXR1cmUgTWFwcGluZ3MgLS0tXG5jb25zdCBQQVRIX1JFUVVJUkVNRU5UUyA9IHtcbiAgICAnL3NvY2lhbCc6IHsgbGltaXRLZXk6ICdtYXhTb2NpYWxDb25uZWN0aW9ucycsIG1pblJlcXVpcmVkOiAxIH0sXG4gICAgJy9zZXR0aW5ncy9pbnRlZ3JhdGlvbnMnOiB7IGxpbWl0S2V5OiAnbWF4UGxhdGZvcm1JbnRlZ3JhdGlvbnMnLCBtaW5SZXF1aXJlZDogMSB9LFxuICAgICcvc2V0dGluZ3MvcGxhdGZvcm1zJzogeyBsaW1pdEtleTogJ21heFBsYXRmb3JtSW50ZWdyYXRpb25zJywgbWluUmVxdWlyZWQ6IDEgfSxcbiAgICAnL2FuYWx5dGljcy9nb29nbGUnOiB7IGxpbWl0S2V5OiAnZ29vZ2xlQW5hbHl0aWNzJywgbWluUmVxdWlyZWQ6IHRydWUgfSxcbiAgICAnL2V4cGVyaW1lbnRzJzogeyBsaW1pdEtleTogJ2FiVGVzdGluZycsIG1pblJlcXVpcmVkOiB0cnVlIH0sXG4gICAgJy9oZWF0bWFwcyc6IHsgbGltaXRLZXk6ICdtYXhIZWF0bWFwcycsIG1pblJlcXVpcmVkOiAxIH0sXG4gICAgJy9yZWNvbW1lbmRhdGlvbnMnOiB7IGxpbWl0S2V5OiAncmVjb21tZW5kYXRpb25XaWRnZXRzJywgbWluUmVxdWlyZWQ6IHRydWUgfSxcbiAgICAnL3JlcG9ydHMnOiB7IGxpbWl0S2V5OiAnbWF4UmVwb3J0cycsIG1pblJlcXVpcmVkOiB0cnVlIH0sXG4gICAgJy9zdXBwb3J0L3N1cHBvcnQtdGlja2V0cyc6IHsgbGltaXRLZXk6ICdzdXBwb3J0VGlja2V0cycsIG1pblJlcXVpcmVkOiB0cnVlIH0sXG59O1xuXG5jb25zdCBnZXRBZG1pblNlY3JldCA9ICgpID0+IHtcbiAgICBjb25zdCBzZWNyZXQgPSBwcm9jZXNzLmVudi5KV1RfQURNSU5fU0VDUkVUO1xuICAgIGlmICghc2VjcmV0KSB0aHJvdyBuZXcgRXJyb3IoXCJKV1RfQURNSU5fU0VDUkVUIGlzIG5vdCBzZXQuXCIpO1xuICAgIHJldHVybiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoc2VjcmV0KTtcbn07XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyAxLiBPUklHSU5BTCBNSURETEVXQVJFIExPR0lDIChSZW5hbWVkKVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbmFzeW5jIGZ1bmN0aW9uIGN1c3RvbU1pZGRsZXdhcmUocmVxKSB7XG4gICAgY29uc3QgeyBwYXRobmFtZSB9ID0gcmVxLm5leHRVcmw7XG4gICAgY29uc3QgYXBwVXJsID0gcHJvY2Vzcy5lbnYuTkVYVEFVVEhfVVJMIHx8IHJlcS5uZXh0VXJsLm9yaWdpbjtcblxuICAgIC8vIE5PVEU6IFB1YmxpYyBwYXRoIGNoZWNrIGlzIG5vdyBoYW5kbGVkIGluICdhdXRob3JpemVkJyBjYWxsYmFjayBiZWxvdyxcbiAgICAvLyBidXQgcmVkdW5kYW50IGNoZWNrIGhlcmUgaXMgaGFybWxlc3MgYW5kIHNhZmUuXG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIDIuIEFkbWluIENoZWNrXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICBpZiAocGF0aG5hbWUuc3RhcnRzV2l0aCgnL2FkbWluJykgJiYgIXBhdGhuYW1lLnN0YXJ0c1dpdGgoJy9hZG1pbi9sb2dpbicpKSB7XG4gICAgICAgIGNvbnN0IGFkbWluQ29va2llID0gcmVxLmNvb2tpZXMuZ2V0KCdjb3J0ZXgtdHJhY2tlci10b2tlbicpO1xuICAgICAgICBpZiAoIWFkbWluQ29va2llKSByZXR1cm4gTmV4dFJlc3BvbnNlLnJlZGlyZWN0KG5ldyBVUkwoJy9hZG1pbi9sb2dpbicsIGFwcFVybCkpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgeyBwYXlsb2FkIH0gPSBhd2FpdCBqd3RWZXJpZnkoYWRtaW5Db29raWUudmFsdWUsIGdldEFkbWluU2VjcmV0KCkpO1xuICAgICAgICAgICAgaWYgKHBheWxvYWQucm9sZSAhPT0gJ3N1cGVyYWRtaW4nKSB0aHJvdyBuZXcgRXJyb3IoJ05vdCBzdXBlcmFkbWluJyk7XG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLm5leHQoKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdChuZXcgVVJMKCcvYWRtaW4vbG9naW4/ZXJyb3I9SW52YWxpZFRva2VuJywgYXBwVXJsKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIDMuIEZlYXR1cmUgJiBBdXRoZW50aWNhdGlvbiBDaGVja1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgY29uc3QgcmVxdWlyZW1lbnQgPSBPYmplY3QuZW50cmllcyhQQVRIX1JFUVVJUkVNRU5UUykuZmluZCgoW3BhdGhdKSA9PiBwYXRobmFtZS5zdGFydHNXaXRoKHBhdGgpKT8uWzFdO1xuXG4gICAgaWYgKHJlcXVpcmVtZW50KSB7XG4gICAgICAgIC8vIFdlIGNhbiByZXVzZSB0aGUgdG9rZW4gZnJvbSBOZXh0QXV0aCB3cmFwcGVyIGlmIHdlIHdhbnRlZCwgYnV0IGV4aXN0aW5nIGxvZ2ljIGZldGNoZXMgaXQuXG4gICAgICAgIC8vIHJlcS5uZXh0YXV0aC50b2tlbiBpcyBhdmFpbGFibGUgaWYgd2UgdXNlZCAnY2FsbGJhY2tzJyBjb3JyZWN0bHkgYWJvdmUuXG4gICAgICAgIC8vIExldCdzIHN0aWNrIHRvIGV4aXN0aW5nIGdldFRva2VuIHRvIG1pbmltaXplIGJyZWFrYWdlIHJpc2sgZHVyaW5nIG1pZ3JhdGlvbi5cbiAgICAgICAgY29uc3Qgc2Vzc2lvblRva2VuID0gYXdhaXQgZ2V0VG9rZW4oeyByZXEsIHNlY3JldDogcHJvY2Vzcy5lbnYuTkVYVEFVVEhfU0VDUkVUIH0pO1xuXG4gICAgICAgIC8vIElmIHVzZXIgaXMgbm90IGxvZ2dlZCBpbiwgcmVkaXJlY3QgdG8gbG9naW5cbiAgICAgICAgaWYgKCFzZXNzaW9uVG9rZW4/LmVtYWlsKSB7XG4gICAgICAgICAgICBjb25zdCBsb2dpblVybCA9IG5ldyBVUkwoJy9sb2dpbicsIGFwcFVybCk7XG4gICAgICAgICAgICBsb2dpblVybC5zZWFyY2hQYXJhbXMuc2V0KCdjYWxsYmFja1VybCcsIHJlcS51cmwpO1xuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdChsb2dpblVybCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwcmljZUlkID0gc2Vzc2lvblRva2VuLnN0cmlwZVByaWNlSWQ7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IHNlc3Npb25Ub2tlbi5zdHJpcGVTdWJzY3JpcHRpb25TdGF0dXM7XG4gICAgICAgIGNvbnN0IGlzQWN0aXZlID0gc3RhdHVzID09PSAnYWN0aXZlJyB8fCBzdGF0dXMgPT09ICd0cmlhbGluZyc7XG5cbiAgICAgICAgbGV0IHBsYW47XG4gICAgICAgIGlmIChwcmljZUlkICYmIGlzQWN0aXZlKSB7XG4gICAgICAgICAgICBwbGFuID0gZ2V0UGxhbkRldGFpbHMocHJpY2VJZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwbGFuID0gZ2V0UGxhbkRldGFpbHMobnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsaW1pdCA9IHBsYW4ubGltaXRzW3JlcXVpcmVtZW50LmxpbWl0S2V5XTtcbiAgICAgICAgbGV0IGhhc0FjY2VzcyA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh0eXBlb2YgcmVxdWlyZW1lbnQubWluUmVxdWlyZWQgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgY29uc3QgaXNUcnV0aHkgPSAhIWxpbWl0IHx8IGxpbWl0ID09PSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgICAgICBoYXNBY2Nlc3MgPSBpc1RydXRoeSA9PT0gcmVxdWlyZW1lbnQubWluUmVxdWlyZWQ7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGxpbWl0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgaGFzQWNjZXNzID0gbGltaXQgPj0gcmVxdWlyZW1lbnQubWluUmVxdWlyZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWhhc0FjY2Vzcykge1xuICAgICAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCgnL3VwZ3JhZGUtcGxhbnMnLCBhcHBVcmwpO1xuICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3JlYXNvbicsIGlzQWN0aXZlID8gJ2xpbWl0JyA6ICdpbmFjdGl2ZV9vcl9mcmVlJyk7XG4gICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnZmVhdHVyZScsIHJlcXVpcmVtZW50LmxpbWl0S2V5KTtcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3QodXJsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UubmV4dCgpO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gNC4gTUFJTiBFWFBPUlQ6IFdJVEhBVVRIIFdSQVBQRVJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5leHBvcnQgZGVmYXVsdCB3aXRoQXV0aChcbiAgICBjdXN0b21NaWRkbGV3YXJlLFxuICAgIHtcbiAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICBhdXRob3JpemVkOiAoeyByZXEsIHRva2VuIH0pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHBhdGhuYW1lIH0gPSByZXEubmV4dFVybDtcblxuICAgICAgICAgICAgICAgIC8vIEEuIFBVQkxJQyBQQVRIUyAtIEFsbG93XG4gICAgICAgICAgICAgICAgY29uc3QgcHVibGljUGF0aHMgPSBbXG4gICAgICAgICAgICAgICAgICAgICcvbG9naW4nLFxuICAgICAgICAgICAgICAgICAgICAnL3JlZ2lzdHJhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICcvdmVyaWZ5LWVtYWlsJyxcbiAgICAgICAgICAgICAgICAgICAgJy9hcGkvYXV0aCcsXG4gICAgICAgICAgICAgICAgICAgICcvYXBpL3JlZ2lzdGVyJyxcbiAgICAgICAgICAgICAgICAgICAgJy9hcGkvdmVyaWZ5LXRva2VuJyxcbiAgICAgICAgICAgICAgICAgICAgJy9mYXZpY29uLmljbycsXG4gICAgICAgICAgICAgICAgICAgICcvX25leHQnLFxuICAgICAgICAgICAgICAgICAgICAnL3N0YXRpYycsXG4gICAgICAgICAgICAgICAgICAgICcvYXBpL3dlYmhvb2tzJyxcbiAgICAgICAgICAgICAgICAgICAgJy9hcGkvY3JtL3NlbmQtbWVzc2FnZScsXG4gICAgICAgICAgICAgICAgICAgICcvYXBpL3dlYmhvb2tzL3doYXRzYXBwJ1xuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgaWYgKHB1YmxpY1BhdGhzLnNvbWUocGF0aCA9PiBwYXRobmFtZS5zdGFydHNXaXRoKHBhdGgpKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBCLiBBRE1JTiBQQVRIUyAtIEFsbG93IChMZXQgaW5uZXIgbWlkZGxld2FyZSBoYW5kbGUgY3VzdG9tIHRva2VuIGNoZWNrKVxuICAgICAgICAgICAgICAgIGlmIChwYXRobmFtZS5zdGFydHNXaXRoKCcvYWRtaW4nKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDLiBERUZBVUxUIC0gUmVxdWlyZSBTZXNzaW9uIFRva2VuXG4gICAgICAgICAgICAgICAgLy8gSWYgdG9rZW4gZXhpc3RzLCByZXR1cm4gdHJ1ZSAoYWxsb3cgYWNjZXNzIC0+IHJ1biBtaWRkbGV3YXJlKS5cbiAgICAgICAgICAgICAgICAvLyBJZiBmYWxzZSwgcmVkaXJlY3RzIHRvIHBhZ2VzLnNpZ25JblxuICAgICAgICAgICAgICAgIHJldHVybiAhIXRva2VuO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgcGFnZXM6IHtcbiAgICAgICAgICAgIHNpZ25JbjogJy9sb2dpbicsXG4gICAgICAgIH0sXG4gICAgfVxuKTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIDUuIENPTkZJR1VSQVRJT05cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xuICAgIG1hdGNoZXI6IFtcbiAgICAgICAgLy8gbWF0Y2ggYWxsIHBhdGhzIGV4Y2VwdCBzdGF0aWMgZmlsZXNcbiAgICAgICAgJy8oKD8hX25leHQvc3RhdGljfF9uZXh0L2ltYWdlfGZhdmljb24uaWNvKS4qKScsXG4gICAgXSxcbn07XG4iXSwibmFtZXMiOlsicnVudGltZSIsIndpdGhBdXRoIiwiTmV4dFJlc3BvbnNlIiwiZ2V0VG9rZW4iLCJqd3RWZXJpZnkiLCJnZXRQbGFuRGV0YWlscyIsIlBBVEhfUkVRVUlSRU1FTlRTIiwibGltaXRLZXkiLCJtaW5SZXF1aXJlZCIsImdldEFkbWluU2VjcmV0Iiwic2VjcmV0IiwicHJvY2VzcyIsImVudiIsIkpXVF9BRE1JTl9TRUNSRVQiLCJFcnJvciIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIiwiY3VzdG9tTWlkZGxld2FyZSIsInJlcSIsInBhdGhuYW1lIiwibmV4dFVybCIsImFwcFVybCIsIk5FWFRBVVRIX1VSTCIsIm9yaWdpbiIsInN0YXJ0c1dpdGgiLCJhZG1pbkNvb2tpZSIsImNvb2tpZXMiLCJnZXQiLCJyZWRpcmVjdCIsIlVSTCIsInBheWxvYWQiLCJ2YWx1ZSIsInJvbGUiLCJuZXh0IiwiZSIsInJlcXVpcmVtZW50IiwiT2JqZWN0IiwiZW50cmllcyIsImZpbmQiLCJwYXRoIiwic2Vzc2lvblRva2VuIiwiTkVYVEFVVEhfU0VDUkVUIiwiZW1haWwiLCJsb2dpblVybCIsInNlYXJjaFBhcmFtcyIsInNldCIsInVybCIsInByaWNlSWQiLCJzdHJpcGVQcmljZUlkIiwic3RhdHVzIiwic3RyaXBlU3Vic2NyaXB0aW9uU3RhdHVzIiwiaXNBY3RpdmUiLCJwbGFuIiwibGltaXQiLCJsaW1pdHMiLCJoYXNBY2Nlc3MiLCJpc1RydXRoeSIsIk51bWJlciIsIlBPU0lUSVZFX0lORklOSVRZIiwiY2FsbGJhY2tzIiwiYXV0aG9yaXplZCIsInRva2VuIiwicHVibGljUGF0aHMiLCJzb21lIiwicGFnZXMiLCJzaWduSW4iLCJjb25maWciLCJtYXRjaGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./src/middleware.js\n");

/***/ })

});